var Aa=Object.defineProperty,Fa=Object.defineProperties;var Ha=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Ra=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable;var Oe=(e,a,l)=>a in e?Aa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,Z=(e,a)=>{for(var l in a||(a={}))Ra.call(a,l)&&Oe(e,l,a[l]);if(_e)for(var l of _e(a))Ka.call(a,l)&&Oe(e,l,a[l]);return e},ne=(e,a)=>Fa(e,Ha(a));import{A as Ne,ak as xe,E as Ue,aj as Ge,F as qe,a as N,Q as Be,G as k,H as ea,ao as _a,d as Q,I as oe,j as b,c as H,e as X,at as re,cg as aa,u as g,ad as la,O as S,N as Se,m as ye,t as Y,ay as ce,_ as fe,W as se,a1 as na,o as Ve,K as ta,r as sa,L as Oa,J as de,a5 as Ua,a6 as oa,bc as Ga,av as ze,c5 as ia,aN as ra,bh as qa,aU as A,a3 as J,a0 as K,w as T,f as R,V as he,a_ as ge,g as da,ch as Ie,P as We,aK as Wa,az as ja,ci as Za,af as ua,ah as G,ax as Ja,aX as Xa,cj as Ya,U as Qa,bJ as ca,bD as xa,cf as el,au as je,n as ke,bK as al,bL as ll}from"./index.101a8097.js";import{v as nl}from"./el-loading.ac4b049a.js";import{b as tl,c as sl,E as ol,a as il,_ as rl}from"./el-table-column.9246b65d.js";import{b as dl,E as ul,a as cl}from"./el-form-item.96e03ac6.js";import{U as pe,C as Ce,u as pl,m as pa,n as fl,d as fa,g as va,i as ha,s as vl,E as ma,h as hl,f as ml,q as gl,a as bl,b as Pe}from"./el-notification.8865d44b.js";import{c as Ze,i as be,d as yl,C as Cl,t as kl}from"./el-select.e3acf09e.js";import"./el-tooltip.586473e3.js";import{i as $l,f as $e,g as ga,E as El}from"./el-message-box.b3bcd646.js";import"./el-overlay.854ad7fe.js";import{c as wl,u as Nl,g as Sl,d as Vl}from"./category.bb893783.js";import{_ as Tl}from"./plugin-vue_export-helper.21dcd24c.js";import{s as Dl,i as Pl,d as Il}from"./validator.25d83d6a.js";import"./refs.43ece32d.js";var Ll=1,Bl=4;function ba(e){return dl(e,Ll|Bl)}var zl=1/0;function Ml(e){var a=e==null?0:e.length;return a?tl(e,zl):[]}const Je=e=>[...new Set(e)],Xe=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],ya=Symbol("radioGroupKey"),Ca=Ne({size:xe,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Al=Ne(ne(Z({},Ca),{modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean})),ka={[pe]:e=>Ue(e)||Ge(e)||qe(e),[Ce]:e=>Ue(e)||Ge(e)||qe(e)},$a=(e,a)=>{const l=N(),n=Be(ya,void 0),t=k(()=>!!n),p=k({get(){return t.value?n.modelValue:e.modelValue},set(h){t.value?n.changeEvent(h):a&&a(pe,h),l.value.checked=e.modelValue===e.label}}),i=ea(k(()=>n==null?void 0:n.size)),d=_a(k(()=>n==null?void 0:n.disabled)),c=N(!1),v=k(()=>d.value||t.value&&p.value!==e.label?-1:0);return{radioRef:l,isGroup:t,radioGroup:n,focus:c,size:i,disabled:d,tabIndex:v,modelValue:p}},Fl=["value","name","disabled"],Hl=Q({name:"ElRadio"}),Rl=Q(ne(Z({},Hl),{props:Al,emits:ka,setup(e,{emit:a}){const l=e,n=oe("radio"),{radioRef:t,radioGroup:p,focus:i,size:d,disabled:c,modelValue:v}=$a(l,a);function h(){se(()=>a("change",v.value))}return(f,m)=>{var w;return b(),H("label",{class:S([g(n).b(),g(n).is("disabled",g(c)),g(n).is("focus",g(i)),g(n).is("bordered",f.border),g(n).is("checked",g(v)===f.label),g(n).m(g(d))])},[X("span",{class:S([g(n).e("input"),g(n).is("disabled",g(c)),g(n).is("checked",g(v)===f.label)])},[re(X("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":m[0]||(m[0]=P=>la(v)?v.value=P:null),class:S(g(n).e("original")),value:f.label,name:f.name||((w=g(p))==null?void 0:w.name),disabled:g(c),type:"radio",onFocus:m[1]||(m[1]=P=>i.value=!0),onBlur:m[2]||(m[2]=P=>i.value=!1),onChange:h},null,42,Fl),[[aa,g(v)]]),X("span",{class:S(g(n).e("inner"))},null,2)],2),X("span",{class:S(g(n).e("label")),onKeydown:m[3]||(m[3]=ce(()=>{},["stop"]))},[Se(f.$slots,"default",{},()=>[ye(Y(f.label),1)])],34)],2)}}}));var Kl=fe(Rl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const _l=Ne(ne(Z({},Ca),{name:{type:String,default:""}})),Ol=["value","name","disabled"],Ul=Q({name:"ElRadioButton"}),Gl=Q(ne(Z({},Ul),{props:_l,setup(e){const a=e,l=oe("radio"),{radioRef:n,focus:t,size:p,disabled:i,modelValue:d,radioGroup:c}=$a(a),v=k(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:c!=null&&c.fill?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return(h,f)=>{var m;return b(),H("label",{class:S([g(l).b("button"),g(l).is("active",g(d)===h.label),g(l).is("disabled",g(i)),g(l).is("focus",g(t)),g(l).bm("button",g(p))])},[re(X("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":f[0]||(f[0]=w=>la(d)?d.value=w:null),class:S(g(l).be("button","original-radio")),value:h.label,type:"radio",name:h.name||((m=g(c))==null?void 0:m.name),disabled:g(i),onFocus:f[1]||(f[1]=w=>t.value=!0),onBlur:f[2]||(f[2]=w=>t.value=!1)},null,42,Ol),[[aa,g(d)]]),X("span",{class:S(g(l).be("button","inner")),style:na(g(d)===h.label?g(v):{}),onKeydown:f[3]||(f[3]=ce(()=>{},["stop"]))},[Se(h.$slots,"default",{},()=>[ye(Y(h.label),1)])],38)],2)}}}));var Ea=fe(Gl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const ql=Ne({id:{type:String,default:void 0},size:xe,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Wl=ka,jl=["id","aria-label","aria-labelledby"],Zl=Q({name:"ElRadioGroup"}),Jl=Q(ne(Z({},Zl),{props:ql,emits:Wl,setup(e,{emit:a}){const l=e,n=oe("radio"),t=pl(),p=N(),{formItem:i}=pa(),{inputId:d,isLabeledByFormItem:c}=fl(l,{formItemContext:i}),v=f=>{a(pe,f),se(()=>a("change",f))};Ve(()=>{const f=p.value.querySelectorAll("[type=radio]"),m=f[0];!Array.from(f).some(w=>w.checked)&&m&&(m.tabIndex=0)});const h=k(()=>l.name||t.value);return ta(ya,sa(ne(Z({},Oa(l)),{changeEvent:v,name:h}))),de(()=>l.modelValue,()=>{l.validateEvent&&(i==null||i.validate("change").catch(f=>fa()))}),(f,m)=>(b(),H("div",{id:g(d),ref_key:"radioGroupRef",ref:p,class:S(g(n).b("group")),role:"radiogroup","aria-label":g(c)?void 0:f.label||"radio-group","aria-labelledby":g(c)?g(i).labelId:void 0},[Se(f.$slots,"default")],10,jl))}}));var wa=fe(Jl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Xl=Ua(Kl,{RadioButton:Ea,RadioGroup:wa});oa(wa);oa(Ea);var Yl=Q({name:"NodeContent",setup(){return{ns:oe("cascader-node")}},render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:n,label:t}=a,{renderLabelFn:p}=l;return Ga("span",{class:e.e("label")},p?p({node:a,data:n}):t)}});const Me=Symbol(),Ql=Q({name:"ElCascaderNode",components:{ElCheckbox:sl,ElRadio:Xl,NodeContent:Yl,ElIcon:ze,Check:ia,Loading:ra,ArrowRight:qa},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=Be(Me),n=oe("cascader-node"),t=k(()=>l.isHoverMenu),p=k(()=>l.config.multiple),i=k(()=>l.config.checkStrictly),d=k(()=>{var $;return($=l.checkedNodes[0])==null?void 0:$.uid}),c=k(()=>e.node.isDisabled),v=k(()=>e.node.isLeaf),h=k(()=>i.value&&!v.value||!c.value),f=k(()=>w(l.expandingNode)),m=k(()=>i.value&&l.checkedNodes.some(w)),w=$=>{var F;const{level:j,uid:te}=e.node;return((F=$==null?void 0:$.pathNodes[j-1])==null?void 0:F.uid)===te},P=()=>{f.value||l.expandNode(e.node)},U=$=>{const{node:F}=e;$!==F.checked&&l.handleCheckChange(F,$)},s=()=>{l.lazyLoad(e.node,()=>{v.value||P()})},C=$=>{!t.value||(z(),!v.value&&a("expand",$))},z=()=>{const{node:$}=e;!h.value||$.loading||($.loaded?P():s())},M=()=>{t.value&&!v.value||(v.value&&!c.value&&!i.value&&!p.value?O(!0):z())},W=$=>{i.value?(U($),e.node.loaded&&P()):O($)},O=$=>{e.node.loaded?(U($),!i.value&&P()):s()};return{panel:l,isHoverMenu:t,multiple:p,checkStrictly:i,checkedNodeId:d,isDisabled:c,isLeaf:v,expandable:h,inExpandingPath:f,inCheckedPath:m,ns:n,handleHoverExpand:C,handleExpand:z,handleClick:M,handleCheck:O,handleSelectCheck:W}}}),xl=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],en=X("span",null,null,-1);function an(e,a,l,n,t,p){const i=A("el-checkbox"),d=A("el-radio"),c=A("check"),v=A("el-icon"),h=A("node-content"),f=A("loading"),m=A("arrow-right");return b(),H("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:S([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onFocus:a[3]||(a[3]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onClick:a[4]||(a[4]=(...w)=>e.handleClick&&e.handleClick(...w))},[J(" prefix "),e.multiple?(b(),K(i,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=ce(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(b(),K(d,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=ce(()=>{},["stop"]))},{default:T(()=>[J(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),en]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(b(),K(v,{key:2,class:S(e.ns.e("prefix"))},{default:T(()=>[R(c)]),_:1},8,["class"])):J("v-if",!0),J(" content "),R(h),J(" postfix "),e.isLeaf?J("v-if",!0):(b(),H(he,{key:3},[e.node.loading?(b(),K(v,{key:0,class:S([e.ns.is("loading"),e.ns.e("postfix")])},{default:T(()=>[R(f)]),_:1},8,["class"])):(b(),K(v,{key:1,class:S(["arrow-right",e.ns.e("postfix")])},{default:T(()=>[R(m)]),_:1},8,["class"]))],64))],42,xl)}var ln=fe(Ql,[["render",an],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const nn=Q({name:"ElCascaderMenu",components:{Loading:ra,ElIcon:ze,ElScrollbar:va,ElCascaderNode:ln},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=da(),l=oe("cascader-menu"),{t:n}=ha(),t=vl();let p=null,i=null;const d=Be(Me),c=N(null),v=k(()=>!e.nodes.length),h=k(()=>!d.initialLoaded),f=k(()=>`cascader-menu-${t}-${e.index}`),m=s=>{p=s.target},w=s=>{if(!(!d.isHoverMenu||!p||!c.value))if(p.contains(s.target)){P();const C=a.vnode.el,{left:z}=C.getBoundingClientRect(),{offsetWidth:M,offsetHeight:W}=C,O=s.clientX-z,$=p.offsetTop,F=$+p.offsetHeight;c.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${O} ${$} L${M} 0 V${$} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${O} ${F} L${M} ${W} V${F} Z" />
        `}else i||(i=window.setTimeout(U,d.config.hoverThreshold))},P=()=>{!i||(clearTimeout(i),i=null)},U=()=>{!c.value||(c.value.innerHTML="",P())};return{ns:l,panel:d,hoverZone:c,isEmpty:v,isLoading:h,menuId:f,t:n,handleExpand:m,handleMouseMove:w,clearHoverZone:U}}});function tn(e,a,l,n,t,p){const i=A("el-cascader-node"),d=A("loading"),c=A("el-icon"),v=A("el-scrollbar");return b(),K(v,{key:e.menuId,tag:"ul",role:"menu",class:S(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:T(()=>{var h;return[(b(!0),H(he,null,ge(e.nodes,f=>(b(),K(i,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(b(),H("div",{key:0,class:S(e.ns.e("empty-text"))},[R(c,{size:"14",class:S(e.ns.is("loading"))},{default:T(()=>[R(d)]),_:1},8,["class"]),ye(" "+Y(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(b(),H("div",{key:1,class:S(e.ns.e("empty-text"))},Y(e.t("el.cascader.noData")),3)):(h=e.panel)!=null&&h.isHoverMenu?(b(),H("svg",{key:2,ref:"hoverZone",class:S(e.ns.e("hover-zone"))},null,2)):J("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var sn=fe(nn,[["render",tn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let on=0;const rn=e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a};class me{constructor(a,l,n,t=!1){this.data=a,this.config=l,this.parent=n,this.root=t,this.uid=on++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:i,children:d}=l,c=a[d],v=rn(this);this.level=t?0:n?n.level+1:1,this.value=a[p],this.label=a[i],this.pathNodes=v,this.pathValues=v.map(h=>h.value),this.pathLabels=v.map(h=>h.label),this.childrenData=c,this.children=(c||[]).map(h=>new me(h,l,this)),this.loaded=!l.lazy||this.isLeaf||!Ie(c)}get isDisabled(){const{data:a,parent:l,config:n}=this,{disabled:t,checkStrictly:p}=n;return(We(t)?t(a,this):!!a[t])||!p&&(l==null?void 0:l.isDisabled)}get isLeaf(){const{data:a,config:l,childrenData:n,loaded:t}=this,{lazy:p,leaf:i}=l,d=We(i)?i(a,this):a[i];return Wa(d)?p&&!t?!1:!(Array.isArray(n)&&n.length):!!d}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(a){const{childrenData:l,children:n}=this,t=new me(a,this.config,this);return Array.isArray(l)?l.push(a):this.childrenData=[a],n.push(t),t}calcText(a,l){const n=a?this.pathLabels.join(l):this.label;return this.text=n,n}broadcast(a,...l){const n=`onParent${Ze(a)}`;this.children.forEach(t=>{t&&(t.broadcast(a,...l),t[n]&&t[n](...l))})}emit(a,...l){const{parent:n}=this,t=`onChild${Ze(a)}`;n&&(n[t]&&n[t](...l),n.emit(a,...l))}onParentCheck(a){this.isDisabled||this.setCheckState(a)}onChildCheck(){const{children:a}=this,l=a.filter(t=>!t.isDisabled),n=l.length?l.every(t=>t.checked):!1;this.setCheckState(n)}setCheckState(a){const l=this.children.length,n=this.children.reduce((t,p)=>{const i=p.checked?1:p.indeterminate?.5:0;return t+i},0);this.checked=this.loaded&&this.children.filter(t=>!t.isDisabled).every(t=>t.loaded&&t.checked)&&a,this.indeterminate=this.loaded&&n!==l&&n>0}doCheck(a){if(this.checked===a)return;const{checkStrictly:l,multiple:n}=this.config;l||!n?this.checked=a:(this.broadcast("check",a),this.setCheckState(a),this.emit("check"))}}const Le=(e,a)=>e.reduce((l,n)=>(n.isLeaf?l.push(n):(!a&&l.push(n),l=l.concat(Le(n.children,a))),l),[]);class Ye{constructor(a,l){this.config=l;const n=(a||[]).map(t=>new me(t,this.config));this.nodes=n,this.allNodes=Le(n,!1),this.leafNodes=Le(n,!0)}getNodes(){return this.nodes}getFlattedNodes(a){return a?this.leafNodes:this.allNodes}appendNode(a,l){const n=l?l.appendChild(a):new me(a,this.config);l||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(a,l){a.forEach(n=>this.appendNode(n,l))}getNodeByValue(a,l=!1){return!a&&a!==0?null:this.getFlattedNodes(l).find(t=>be(t.value,a)||be(t.pathValues,a))||null}getSameNode(a){return a&&this.getFlattedNodes(!1).find(({value:n,level:t})=>be(a.value,n)&&a.level===t)||null}}const Na={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},dn={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:ja,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},un=e=>k(()=>Z(Z({},dn),e.props)),Qe=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])},cn=e=>{if(!e)return;const a=e.querySelector("input");a?a.click():$l(e)&&e.click()},pn=(e,a)=>{const l=a.slice(0),n=l.map(p=>p.uid),t=e.reduce((p,i)=>{const d=n.indexOf(i.uid);return d>-1&&(p.push(i),l.splice(d,1),n.splice(d,1)),p},[]);return t.push(...l),t},fn=Q({name:"ElCascaderPanel",components:{ElCascaderMenu:sn},props:ne(Z({},Na),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[pe,Ce,"close","expand-change"],setup(e,{emit:a,slots:l}){let n=!1;const t=oe("cascader"),p=un(e);let i=null;const d=N(!0),c=N([]),v=N(null),h=N([]),f=N(null),m=N([]),w=k(()=>p.value.expandTrigger==="hover"),P=k(()=>e.renderLabel||l.default),U=()=>{const{options:r}=e,y=p.value;n=!1,i=new Ye(r,y),h.value=[i.getNodes()],y.lazy&&Ie(e.options)?(d.value=!1,s(void 0,E=>{E&&(i=new Ye(E,y),h.value=[i.getNodes()]),d.value=!0,j(!1,!0)})):j(!1,!0)},s=(r,y)=>{const E=p.value;r=r||new me({},E,void 0,!0),r.loading=!0;const I=D=>{const L=r,ee=L.root?null:L;D&&(i==null||i.appendNodes(D,ee)),L.loading=!1,L.loaded=!0,L.childrenData=L.childrenData||[],y&&y(D)};E.lazyLoad(r,I)},C=(r,y)=>{var E;const{level:I}=r,D=h.value.slice(0,I);let L;r.isLeaf?L=r.pathNodes[I-2]:(L=r,D.push(r.children)),((E=f.value)==null?void 0:E.uid)!==(L==null?void 0:L.uid)&&(f.value=r,h.value=D,!y&&a("expand-change",(r==null?void 0:r.pathValues)||[]))},z=(r,y,E=!0)=>{const{checkStrictly:I,multiple:D}=p.value,L=m.value[0];n=!0,!D&&(L==null||L.doCheck(!1)),r.doCheck(y),F(),E&&!D&&!I&&a("close"),!E&&!D&&!I&&M(r)},M=r=>{!r||(r=r.parent,M(r),r&&C(r))},W=r=>i==null?void 0:i.getFlattedNodes(r),O=r=>{var y;return(y=W(r))==null?void 0:y.filter(E=>E.checked!==!1)},$=()=>{m.value.forEach(r=>r.doCheck(!1)),F()},F=()=>{var r;const{checkStrictly:y,multiple:E}=p.value,I=m.value,D=O(!y),L=pn(I,D),ee=L.map(B=>B.valueByOption);m.value=L,v.value=E?ee:(r=ee[0])!=null?r:null},j=(r=!1,y=!1)=>{const{modelValue:E}=e,{lazy:I,multiple:D,checkStrictly:L}=p.value,ee=!L;if(!(!d.value||n||!y&&be(E,v.value)))if(I&&!r){const le=Je(Ml(Xe(E))).map(q=>i==null?void 0:i.getNodeByValue(q)).filter(q=>!!q&&!q.loaded&&!q.loading);le.length?le.forEach(q=>{s(q,()=>j(!1,y))}):j(!0,y)}else{const B=D?Xe(E):[E],le=Je(B.map(q=>i==null?void 0:i.getNodeByValue(q,ee)));te(le,y),v.value=ba(E)}},te=(r,y=!0)=>{const{checkStrictly:E}=p.value,I=m.value,D=r.filter(B=>!!B&&(E||B.isLeaf)),L=i==null?void 0:i.getSameNode(f.value),ee=y&&L||D[0];ee?ee.pathNodes.forEach(B=>C(B,!0)):f.value=null,I.forEach(B=>B.doCheck(!1)),D.forEach(B=>B.doCheck(!0)),m.value=D,se(ve)},ve=()=>{!ua||c.value.forEach(r=>{const y=r==null?void 0:r.$el;if(y){const E=y.querySelector(`.${t.namespace.value}-scrollbar__wrap`),I=y.querySelector(`.${t.b("node")}.${t.is("active")}`)||y.querySelector(`.${t.b("node")}.in-active-path`);Dl(E,I)}})},x=r=>{const y=r.target,{code:E}=r;switch(E){case G.up:case G.down:{r.preventDefault();const I=E===G.up?-1:1;$e(ga(y,I,`.${t.b("node")}[tabindex="-1"]`));break}case G.left:{r.preventDefault();const I=c.value[Qe(y)-1],D=I==null?void 0:I.$el.querySelector(`.${t.b("node")}[aria-expanded="true"]`);$e(D);break}case G.right:{r.preventDefault();const I=c.value[Qe(y)+1],D=I==null?void 0:I.$el.querySelector(`.${t.b("node")}[tabindex="-1"]`);$e(D);break}case G.enter:cn(y);break}};return ta(Me,sa({config:p,expandingNode:f,checkedNodes:m,isHoverMenu:w,initialLoaded:d,renderLabelFn:P,lazyLoad:s,expandNode:C,handleCheckChange:z})),de([p,()=>e.options],U,{deep:!0,immediate:!0}),de(()=>e.modelValue,()=>{n=!1,j()},{deep:!0}),de(()=>v.value,r=>{be(r,e.modelValue)||(a(pe,r),a(Ce,r))}),Za(()=>c.value=[]),Ve(()=>!Ie(e.modelValue)&&j()),{ns:t,menuList:c,menus:h,checkedNodes:m,handleKeyDown:x,handleCheckChange:z,getFlattedNodes:W,getCheckedNodes:O,clearCheckedNodes:$,calculateCheckedValue:F,scrollToExpandingNode:ve}}});function vn(e,a,l,n,t,p){const i=A("el-cascader-menu");return b(),H("div",{class:S([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...d)=>e.handleKeyDown&&e.handleKeyDown(...d))},[(b(!0),H(he,null,ge(e.menus,(d,c)=>(b(),K(i,{key:c,ref_for:!0,ref:v=>e.menuList[c]=v,index:c,nodes:[...d]},null,8,["index","nodes"]))),128))],34)}var Ee=fe(fn,[["render",vn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Ee.install=e=>{e.component(Ee.name,Ee)};const hn=Ee,mn=40,gn={large:36,default:32,small:28},bn={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},yn="ElCascader",Cn=Q({name:yn,components:{ElCascaderPanel:hn,ElInput:ma,ElTooltip:hl,ElScrollbar:va,ElTag:yl,ElIcon:ze,CircleClose:Ja,Check:ia,ArrowDown:Xa},directives:{Clickoutside:Cl},props:ne(Z({},Na),{size:{type:String,validator:Pl},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:ml.teleported,tagType:ne(Z({},kl.type),{default:"info"}),validateEvent:{type:Boolean,default:!0}}),emits:[pe,Ce,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:a}){let l=0,n=0;const t=oe("cascader"),p=oe("input"),{t:i}=ha(),{form:d,formItem:c}=pa(),v=N(null),h=N(null),f=N(null),m=N(null),w=N(null),P=N(!1),U=N(!1),s=N(!1),C=N(""),z=N(""),M=N([]),W=N([]),O=N([]),$=N(!1),F=k(()=>e.disabled||(d==null?void 0:d.disabled)),j=k(()=>e.placeholder||i("el.cascader.placeholder")),te=ea(),ve=k(()=>["small"].includes(te.value)?"small":"default"),x=k(()=>!!e.props.multiple),r=k(()=>!e.filterable||x.value),y=k(()=>x.value?z.value:C.value),E=k(()=>{var o;return((o=m.value)==null?void 0:o.checkedNodes)||[]}),I=k(()=>!e.clearable||F.value||s.value||!U.value?!1:!!E.value.length),D=k(()=>{const{showAllLevels:o,separator:u}=e,V=E.value;return V.length?x.value?" ":V[0].calcText(o,u):""}),L=k({get(){return ba(e.modelValue)},set(o){a(pe,o),a(Ce,o),e.validateEvent&&(c==null||c.validate("change").catch(u=>fa()))}}),ee=k(()=>{var o,u;return(u=(o=v.value)==null?void 0:o.popperRef)==null?void 0:u.contentRef}),B=o=>{var u,V,_;F.value||(o=o!=null?o:!P.value,o!==P.value&&(P.value=o,(V=(u=h.value)==null?void 0:u.input)==null||V.setAttribute("aria-expanded",`${o}`),o?(le(),se((_=m.value)==null?void 0:_.scrollToExpandingNode)):e.filterable&&De(),a("visible-change",o)))},le=()=>{se(()=>{var o;(o=v.value)==null||o.updatePopper()})},q=()=>{s.value=!1},Te=o=>{const{showAllLevels:u,separator:V}=e;return{node:o,key:o.uid,text:o.calcText(u,V),hitState:!1,closable:!F.value&&!o.isDisabled,isCollapseTag:!1}},Ae=o=>{var u;const V=o.node;V.doCheck(!1),(u=m.value)==null||u.calculateCheckedValue(),a("remove-tag",V.valueByOption)},Sa=()=>{if(!x.value)return;const o=E.value,u=[],V=[];if(o.forEach(_=>V.push(Te(_))),W.value=V,o.length){const[_,...ue]=o,ie=ue.length;u.push(Te(_)),ie&&(e.collapseTags?u.push({key:-1,text:`+ ${ie}`,closable:!1,isCollapseTag:!0}):ue.forEach(ae=>u.push(Te(ae))))}M.value=u},Fe=()=>{var o,u;const{filterMethod:V,showAllLevels:_,separator:ue}=e,ie=(u=(o=m.value)==null?void 0:o.getFlattedNodes(!e.props.checkStrictly))==null?void 0:u.filter(ae=>ae.isDisabled?!1:(ae.calcText(_,ue),V(ae,y.value)));x.value&&(M.value.forEach(ae=>{ae.hitState=!1}),W.value.forEach(ae=>{ae.hitState=!1})),s.value=!0,O.value=ie,le()},He=()=>{var o;let u;s.value&&w.value?u=w.value.$el.querySelector(`.${t.e("suggestion-item")}`):u=(o=m.value)==null?void 0:o.$el.querySelector(`.${t.b("node")}[tabindex="-1"]`),u&&(u.focus(),!s.value&&u.click())},Re=()=>{var o,u;const V=(o=h.value)==null?void 0:o.input,_=f.value,ue=(u=w.value)==null?void 0:u.$el;if(!(!ua||!V)){if(ue){const ie=ue.querySelector(`.${t.e("suggestion-list")}`);ie.style.minWidth=`${V.offsetWidth}px`}if(_){const{offsetHeight:ie}=_,ae=M.value.length>0?`${Math.max(ie+6,l)}px`:`${l}px`;V.style.height=ae,le()}}},Va=o=>{var u;return(u=m.value)==null?void 0:u.getCheckedNodes(o)},Ta=o=>{le(),a("expand-change",o)},Da=o=>{var u;const V=(u=o.target)==null?void 0:u.value;if(o.type==="compositionend")$.value=!1,se(()=>Ke(V));else{const _=V[V.length-1]||"";$.value=!gl(_)}},Pa=o=>{if(!$.value)switch(o.code){case G.enter:B();break;case G.down:B(!0),se(He),o.preventDefault();break;case G.esc:P.value===!0&&(o.preventDefault(),o.stopPropagation(),B(!1));break;case G.tab:B(!1);break}},Ia=()=>{var o;(o=m.value)==null||o.clearCheckedNodes(),!P.value&&e.filterable&&De(),B(!1)},De=()=>{const{value:o}=D;C.value=o,z.value=o},La=o=>{var u,V;const{checked:_}=o;x.value?(u=m.value)==null||u.handleCheckChange(o,!_,!1):(!_&&((V=m.value)==null||V.handleCheckChange(o,!0,!1)),B(!1))},Ba=o=>{const u=o.target,{code:V}=o;switch(V){case G.up:case G.down:{const _=V===G.up?-1:1;$e(ga(u,_,`.${t.e("suggestion-item")}[tabindex="-1"]`));break}case G.enter:u.click();break}},za=()=>{const o=M.value,u=o[o.length-1];n=z.value?0:n+1,!(!u||!n||e.collapseTags&&o.length>1)&&(u.hitState?Ae(u):u.hitState=!0)},Ma=Il(()=>{const{value:o}=y;if(!o)return;const u=e.beforeFilter(o);Ya(u)?u.then(Fe).catch(()=>{}):u!==!1?Fe():q()},e.debounce),Ke=(o,u)=>{!P.value&&B(!0),!(u!=null&&u.isComposing)&&(o?Ma():q())};return de(s,le),de([E,F],Sa),de(M,()=>{se(()=>Re())}),de(D,De,{immediate:!0}),Ve(()=>{var o;const u=(o=h.value)==null?void 0:o.$el;l=(u==null?void 0:u.offsetHeight)||gn[te.value]||mn,Qa(u,Re)}),{popperOptions:bn,tooltipRef:v,popperPaneRef:ee,input:h,tagWrapper:f,panel:m,suggestionPanel:w,popperVisible:P,inputHover:U,inputPlaceholder:j,filtering:s,presentText:D,checkedValue:L,inputValue:C,searchInputValue:z,presentTags:M,allPresentTags:W,suggestions:O,isDisabled:F,isOnComposition:$,realSize:te,tagSize:ve,multiple:x,readonly:r,clearBtnVisible:I,nsCascader:t,nsInput:p,t:i,togglePopperVisible:B,hideSuggestionPanel:q,deleteTag:Ae,focusFirstNode:He,getCheckedNodes:Va,handleExpandChange:Ta,handleKeyDown:Pa,handleComposition:Da,handleClear:Ia,handleSuggestionClick:La,handleSuggestionKeyDown:Ba,handleDelete:za,handleInput:Ke}}}),kn={key:0},$n=["placeholder"],En=["onClick"];function wn(e,a,l,n,t,p){const i=A("circle-close"),d=A("el-icon"),c=A("arrow-down"),v=A("el-input"),h=A("el-tag"),f=A("el-tooltip"),m=A("el-cascader-panel"),w=A("check"),P=A("el-scrollbar"),U=ca("clickoutside");return b(),K(f,{ref:"tooltipRef",visible:e.popperVisible,teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:T(()=>[re((b(),H("div",{class:S([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:na(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:a[12]||(a[12]=(...s)=>e.handleKeyDown&&e.handleKeyDown(...s)),onMouseenter:a[13]||(a[13]=s=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=s=>e.inputHover=!1)},[R(v,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=s=>e.inputValue=s),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:S(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=s=>e.$emit("focus",s)),onBlur:a[3]||(a[3]=s=>e.$emit("blur",s)),onInput:e.handleInput},{suffix:T(()=>[e.clearBtnVisible?(b(),K(d,{key:"clear",class:S([e.nsInput.e("icon"),"icon-circle-close"]),onClick:ce(e.handleClear,["stop"])},{default:T(()=>[R(i)]),_:1},8,["class","onClick"])):(b(),K(d,{key:"arrow-down",class:S([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=ce(s=>e.togglePopperVisible(),["stop"]))},{default:T(()=>[R(c)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(b(),H("div",{key:0,ref:"tagWrapper",class:S(e.nsCascader.e("tags"))},[(b(!0),H(he,null,ge(e.presentTags,s=>(b(),K(h,{key:s.key,type:e.tagType,size:e.tagSize,hit:s.hitState,closable:s.closable,"disable-transitions":"",onClose:C=>e.deleteTag(s)},{default:T(()=>[s.isCollapseTag===!1?(b(),H("span",kn,Y(s.text),1)):(b(),K(f,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:T(()=>[X("span",null,Y(s.text),1)]),content:T(()=>[X("div",{class:S(e.nsCascader.e("collapse-tags"))},[(b(!0),H(he,null,ge(e.allPresentTags.slice(1),(C,z)=>(b(),H("div",{key:z,class:S(e.nsCascader.e("collapse-tag"))},[(b(),K(h,{key:C.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:C.hitState,closable:C.closable,"disable-transitions":"",onClose:M=>e.deleteTag(C)},{default:T(()=>[X("span",null,Y(C.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?re((b(),H("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=s=>e.searchInputValue=s),type:"text",class:S(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=s=>e.handleInput(e.searchInputValue,s)),onClick:a[6]||(a[6]=ce(s=>e.togglePopperVisible(!0),["stop"])),onKeydown:a[7]||(a[7]=xa((...s)=>e.handleDelete&&e.handleDelete(...s),["delete"])),onCompositionstart:a[8]||(a[8]=(...s)=>e.handleComposition&&e.handleComposition(...s)),onCompositionupdate:a[9]||(a[9]=(...s)=>e.handleComposition&&e.handleComposition(...s)),onCompositionend:a[10]||(a[10]=(...s)=>e.handleComposition&&e.handleComposition(...s))},null,42,$n)),[[el,e.searchInputValue]]):J("v-if",!0)],2)):J("v-if",!0)],38)),[[U,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:T(()=>[re(R(m,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=s=>e.checkedValue=s),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=s=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[je,!e.filtering]]),e.filterable?re((b(),K(P,{key:0,ref:"suggestionPanel",tag:"ul",class:S(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:T(()=>[e.suggestions.length?(b(!0),H(he,{key:0},ge(e.suggestions,s=>(b(),H("li",{key:s.uid,class:S([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",s.checked)]),tabindex:-1,onClick:C=>e.handleSuggestionClick(s)},[X("span",null,Y(s.text),1),s.checked?(b(),K(d,{key:0},{default:T(()=>[R(w)]),_:1})):J("v-if",!0)],10,En))),128)):Se(e.$slots,"empty",{key:1},()=>[X("li",{class:S(e.nsCascader.e("empty-text"))},Y(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[je,e.filtering]]):J("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var we=fe(Cn,[["render",wn],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);we.install=e=>{e.component(we.name,we)};const Nn=we,Sn=Nn;const Vn=Q({setup(e){const{proxy:a}=da(),{$lodash:l}=a,n=N(!1),t=N(!1),p=N([]),i=N(!1),d=N({}),c=N(!1),v=k(()=>ke().languageType==="zh"?85:120),h={expandTrigger:"hover",checkStrictly:!0,value:"_id",label:"name",children:"children",emitPath:!1},f=async()=>{t.value=!0,n.value=!0,d.value={},c.value=!0,setTimeout(()=>{a.$refs.nameEl.focus()},50)},m=async()=>{i.value=!0,n.value=!1;let s={};t.value?(s=await wl(d.value),s.status===200&&Pe({duration:ke().tipDurationS,title:"Success",message:"\u6DFB\u52A0\u5206\u7C7B\u6210\u529F!",type:"success"})):(s=await Nl(d.value._id,d.value),s.status===200&&Pe({duration:ke().tipDurationS,title:"Success",message:"\u66F4\u65B0\u6210\u529F!",type:"success"})),await w()},w=async()=>{try{i.value=!0;const s=await Sl();p.value=s.data}catch(s){console.log(s)}finally{i.value=!1}},P=async(s,C)=>{t.value=!1,n.value=!0,d.value=l.cloneDeep(C),C.parent?c.value=!0:c.value=!1,setTimeout(async()=>{await se(),a.$refs.nameEl.focus()},100)},U=async(s,C)=>{El.confirm("\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u5206\u7C7B\u5417?","\u5220\u9664",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async z=>{try{i.value=!0,(await Vl(C._id)).status===200&&Pe({duration:ke().tipDurationS,title:"Success",message:"\u5206\u7C7B\u5220\u9664\u6210\u529F!",type:"success"})}catch(M){console.log(M)}finally{await w()}}).catch(z=>{console.log("\u53D6\u6D88\u5220\u9664",z)})};return Ve(async()=>{await w()}),(s,C)=>{const z=ol,M=bl,W=il,O=ma,$=ul,F=Sn,j=cl,te=rl,ve=ca("permission"),x=nl;return b(),K(te,{isAdd:t.value,btnAdd:s.$t("btn.addCate"),dialogTitle:t.value?s.$t("btn.addCate"):s.$t("btn.editCate"),visible:n.value,"onUpdate:visible":C[3]||(C[3]=r=>n.value=r),onAddDataItem:f,onSaveContent:m},{table:T(()=>[re((b(),K(W,{data:p.value,"row-key":"_id",border:"","empty-text":"\u6682\u65E0\u5206\u7C7B!","default-expand-all":""},{default:T(()=>[R(z,{prop:"name",label:s.$t("tableH.category"),"min-width":"200"},null,8,["label"]),R(z,{label:s.$t("tableH.edit"),width:"250",align:"center"},{default:T(r=>[R(M,{size:"small",type:"primary",icon:g(al),plain:"",onClick:y=>P(r.$index,r.row)},{default:T(()=>[ye(Y(s.$t("btn.edit"))+" / "+Y(s.$t("btn.view")),1)]),_:2},1032,["icon","onClick"]),re((b(),K(M,{size:"small",type:"danger",icon:g(ll),plain:"",onClick:y=>U(r.$index,r.row)},{default:T(()=>[ye(Y(s.$t("btn.delete")),1)]),_:2},1032,["icon","onClick"])),[[ve,["admin"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[x,i.value]])]),dialog:T(()=>[R(j,{model:d.value,ref:"formEl","label-width":g(v)},{default:T(()=>[R($,{label:s.$t("label.cateName")},{default:T(()=>[R(O,{placeholder:s.$t("label.cateName"),modelValue:d.value.name,"onUpdate:modelValue":C[0]||(C[0]=r=>d.value.name=r),ref:"nameEl"},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),R($,{label:s.$t("label.cateDes")},{default:T(()=>[R(O,{placeholder:s.$t("label.cateDes"),modelValue:d.value.desc,"onUpdate:modelValue":C[1]||(C[1]=r=>d.value.desc=r)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),c.value?(b(),K($,{key:0,label:s.$t("label.cateSelect")},{default:T(()=>[R(F,{placeholder:s.$t("label.cateSelect"),options:p.value,props:h,modelValue:d.value.parent,"onUpdate:modelValue":C[2]||(C[2]=r=>d.value.parent=r),clearable:""},null,8,["placeholder","options","modelValue"])]),_:1},8,["label"])):J("",!0)]),_:1},8,["model","label-width"])]),_:1},8,["isAdd","btnAdd","dialogTitle","visible"])}}});var On=Tl(Vn,[["__scopeId","data-v-4d2fa9e5"]]);export{On as default};
