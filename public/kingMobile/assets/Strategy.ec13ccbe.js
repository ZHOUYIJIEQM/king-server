import{J as ct,r as _,d as U,o as s,c as a,h as t,F as h,b as m,n as E,e as o,t as l,p as B,_ as W,u as lt,L as it,w as rt,m as ut,i as k,j as I,v as dt,x as _t,T as ht,M as Q,q as vt,s as mt,N as pt}from"./index.6ad1a6eb.js";import{s as gt,_ as yt}from"./saveScrollH.aa8f72eb.js";import{h as Ct,_ as ft}from"./home.a0958a03.js";import{_ as kt}from"./Banner.d0a68b07.js";import{r as T}from"./index.2b0276cf.js";import"./swiper.min.7c38d4f8.js";const q=ct("strategy",()=>{const u=_("");function S(p){u.value=p}return{heroName:u,changeHeroName:S}}),Dt={key:0,class:"hero-box-comp"},St={class:"content-box"},bt=["onClick"],wt=["src"],xt={class:"name"},It={class:"title-box"},Bt=["onClick"],Ht=U({__name:"HeroSelect",props:{heroData:{default:()=>[]}},emits:["heroChange"],setup(u,{emit:S}){let p=_(0);const H=g=>{p.value=g},b=g=>{q().changeHeroName(g),S("heroChange",g)};return(g,A)=>u.heroData.length?(s(),a("div",Dt,[t("div",St,[(s(!0),a(h,null,m(u.heroData,(y,v)=>(s(),a("div",{class:E(["hero-box",{active:o(p)===v}]),key:v},[(s(!0),a(h,null,m(y.dataList,(r,C)=>(s(),a("div",{class:"hero-item",key:C,onClick:$=>b(r.name)},[t("img",{src:r.avatar,alt:""},null,8,wt),t("p",xt,l(r.name),1)],8,bt))),128))],2))),128))]),t("div",It,[(s(!0),a(h,null,m(u.heroData,(y,v)=>(s(),a("div",{class:E(["title-item",{active:o(p)===v}]),key:v,onClick:r=>H(v)},l(y.name),11,Bt))),128))])])):B("",!0)}});const At=W(Ht,[["__scopeId","data-v-aab9b8d2"]]),V={getBanner:()=>T({url:"/strategy/banner"}),getAllStrategy:()=>T({url:"/strategy/allStrategy"}),getHeroStrategy:u=>T({url:"/strategy/heroStrategy",method:"post",data:u})},M=u=>(vt("data-v-5a2a1a68"),u=u(),mt(),u),Et={class:"strategy-page"},$t={target:"_blank",class:"img-box"},Lt=["src"],Ft={class:"cont-item hot-vdo"},Nt={class:"cont-title"},Tt=M(()=>t("span",{class:"text"},"\u70ED\u95E8\u89C6\u9891",-1)),Vt={class:"title-box"},qt=["onClick"],Mt={class:"hot-vdo-item"},Ot=["onClick"],Rt={class:"img-box"},zt=["src"],Jt={class:"content-box"},Gt={class:"name two-eli"},Kt={class:"info"},Pt={class:"count"},Qt={class:"time"},Ut={class:"name eli"},Wt={class:"count"},Xt={class:"cont-item hero-strategy"},Yt=M(()=>t("div",{class:"cont-title"},"\u82F1\u96C4\u653B\u7565",-1)),Zt={key:0,class:"hero-strategy-innerbox"},jt={class:"strategy-title"},te={class:"top"},ee=["onClick"],se=["src"],ae={class:"tag"},oe={class:"title-item"},ne={class:"open-box"},ce={class:"open-innerbox"},le=M(()=>t("span",null,"\u67E5\u770B\u82F1\u96C4\u8BE6\u7EC6\u4ECB\u7ECD>",-1)),ie={class:"hero-data"},re={key:0,class:"hero-data-vdo"},ue={key:1,class:"hero-data-article"},de=["onClick"],_e={class:"left"},he=["src"],ve={class:"right"},me={class:"title two-eli"},pe={class:"time"},ge={key:1,class:"no-hero-strategy"},ye={class:"cont-title"},Ce={class:"vdo-box"},fe=U({__name:"Strategy",setup(u){gt();const S=pt(),p=lt(),H=_([]),b=_([]),g=_([]),A=_(0),y=_(!1),v=_([]),r=_([]),{heroName:C}=it(q()),$=_(0),w=_(!0),f=_({}),X=async()=>{try{let e=await V.getBanner();e.status===200&&(H.value=e.data.items)}catch(e){console.log(e),console.log("\u653B\u7565\u4E2D\u5FC3\u8F6E\u64AD\u9519\u8BEF")}},Y=async()=>{let e=await V.getAllStrategy();e.status===200&&(b.value=e.data)},O=async()=>{g.value=b.value[0].dataList.map(e=>({name:e.name,dataList:y.value?e.dataList.slice(0,10):e.dataList.slice(0,3)})),y.value=!y.value},Z=e=>{A.value=e},j=(e,i)=>{A.value=e,i.slideTo(e)},tt=async()=>{let e=await Ct.getHeroList();v.value=e.data,r.value=e.data[0].dataList.slice(0,6).map(i=>Object.assign({},i,{type:"\u70ED\u95E8"})),q().changeHeroName(r.value[0].name)},L=async e=>{$.value=e,C.value=r.value[e].name},et=e=>{let i=r.value.findIndex(D=>D.name===e);L(i!==-1?i:r.value.length-1),w.value=!0,C.value=e},st=()=>{w.value=!w.value},at=async e=>{f.value={};let i=await V.getHeroStrategy({name:e});f.value=i.data},ot=e=>{let i={};t:for(const D of v.value)for(const x of D.dataList)if(x.name===e){i=x,i=Object.assign({},i,{type:D.name}),r.value.some(F=>F.name===i.name)||(r.value[r.value.length-1]=i);break t}},R=()=>{S.proxy.$toast({msg:"\u6682\u65E0\u66F4\u591A\u5185\u5BB9..."})};return rt(C,async e=>{ot(e),await at(e)}),ut(async()=>{await X(),await Y(),await O(),await tt()}),(e,i)=>{var J,G,K,P;const D=kt,x=ft,F=At,z=yt;return s(),a("div",Et,[k(D,{swiperData:o(H),loop:!0,modules:["Autoplay","Pagination"]},{default:I(n=>[t("a",$t,[t("img",{src:n.slideItem.img,alt:""},null,8,Lt)])]),_:1},8,["swiperData"]),t("div",Ft,[k(x,{customTitle:!0,navSwiperData:o(g),autoHeight:!1,onSlidechange:Z},{title:I(n=>[t("div",Nt,[Tt,t("div",Vt,[(s(!0),a(h,null,m(n.swiperTitle,(c,d)=>(s(),a("span",{class:E(["title-item",{active:d===o(A)}]),key:d,onClick:N=>j(d,n.swiperEl)},l(c),11,qt))),128))])])]),slideItem:I(n=>[t("div",Mt,[(s(!0),a(h,null,m(n.swiperItem.dataList,(c,d)=>(s(),a("div",{class:"hot-item",key:d,onClick:N=>o(p).push({name:"videoDetail",params:{videoId:c.vdoId}})},[d===0?(s(),a(h,{key:0},[t("div",Rt,[t("img",{src:c.img,alt:""},null,8,zt)]),t("div",Jt,[t("p",Gt,l(d+1)+". "+l(c.name),1),t("p",Kt,[t("span",Pt,l(c.playCount),1),t("span",Qt,l(c.iTime),1)])])],64)):(s(),a(h,{key:1},[t("span",Ut,l(d+1)+". "+l(c.name),1),t("span",Wt,l(c.playCount),1)],64))],8,Ot))),128))])]),_:1},8,["navSwiperData"]),t("div",{class:"bottom-txt",onClick:O},l(o(y)?"\u67E5\u770B\u5B8C\u6574\u699C\u5355":"\u6536\u8D77\u699C\u5355"),1)]),t("div",Xt,[Yt,o(r).length?(s(),a("div",Zt,[t("div",jt,[t("div",te,[(s(!0),a(h,null,m(o(r),(n,c)=>(s(),a("div",{class:E(["title-item",{active:o($)===c}]),key:c,onClick:d=>L(c)},[t("img",{src:n==null?void 0:n.avatar,alt:""},null,8,se),t("p",ae,l(n.type),1)],10,ee))),128)),t("div",oe,[t("p",{class:"collapse",onClick:st},l(o(w)?"\u5C55\u5F00":"\u6536\u8D77"),1)])]),t("div",ne,[k(ht,{name:"fade"},{default:I(()=>[dt(t("div",ce,[k(F,{heroData:o(v),onHeroChange:et},null,8,["heroData"])],512),[[_t,!o(w)]])]),_:1})])]),t("div",{class:"hero-info",onClick:i[0]||(i[0]=n=>o(p).push({name:"heroDetail",params:{heroName:o(C)}}))},[t("span",null,l(o(C)),1),le]),t("div",ie,[(J=o(f))!=null&&J.vdo?(s(),a("div",re,[(s(!0),a(h,null,m(o(f).vdo,(n,c)=>(s(),a("div",{class:"hero-data-vdo-item",key:c},[k(z,{"video-info":n},null,8,["video-info"])]))),128))])):B("",!0),(G=o(f))!=null&&G.article?(s(),a("div",ue,[(s(!0),a(h,null,m(o(f).article,(n,c)=>(s(),a("div",{class:"hero-data-article-item",key:c,onClick:d=>o(p).push({name:"articleDetail",params:{articleId:n._id}})},[t("div",_e,[t("img",{src:n.img,alt:""},null,8,he)]),t("div",ve,[t("p",me,l(n.name),1),t("p",pe,l(n.createdTime),1)])],8,de))),128))])):B("",!0)])])):B("",!0),(P=(K=o(f))==null?void 0:K.vdo)!=null&&P.length?B("",!0):(s(),a("div",ge,[Q("\u6682\u65E0"),t("span",null,l(o(C)),1),Q("\u7684\u653B\u7565\u6559\u7A0B!")])),t("div",{class:"bottom-txt",onClick:R},"\u52A0\u8F7D\u66F4\u591A...")]),(s(!0),a(h,null,m(o(b).slice(1),(n,c)=>(s(),a("div",{class:"cont-item boutique-column",key:c},[t("div",ye,l(n.name),1),k(x,{navSwiperData:n.dataList},{slideItem:I(d=>[t("div",Ce,[(s(!0),a(h,null,m(d.swiperItem.dataList,(N,nt)=>(s(),a("div",{class:"column-item",key:nt},[k(z,{videoInfo:N},null,8,["videoInfo"])]))),128))])]),_:2},1032,["navSwiperData"]),t("div",{class:"bottom-txt",onClick:R},"\u52A0\u8F7D\u66F4\u591A...")]))),128))])}}});const Ie=W(fe,[["__scopeId","data-v-5a2a1a68"]]);export{Ie as default};
