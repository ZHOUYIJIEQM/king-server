{"version":3,"sources":["webpack:///./src/assets/mine/yunCircle.png","webpack:///./src/views/Home/YunVillage/YunVillage.vue","webpack:///./src/views/Home/YunVillage/YunVillage.js","webpack:///./src/views/Home/YunVillage/YunVillage.js?d76d","webpack:///./src/views/Home/YunVillage/YunVillage.vue?2497","webpack:///./src/mixin/global.js","webpack:///./src/views/Home/YunVillage/YunVillage.vue?9ff7","webpack:///./src/views/Home/YunVillage/YunVillage.scss?6bbb","webpack:///./src/mixin/scrollPosition.js"],"names":["module","exports","render","_vm","this","_c","_self","_setupProxy","staticClass","ref","on","toggleMenu","scopedSlots","_u","key","fn","proxy","_l","flagList","item","index","class","flagActive","$event","clickFlag","_v","_s","directives","name","rawName","value","expression","_m","attrs","require","recommendVideo","staticRenderFns","mixins","scrollPosition","global","components","Navbar","Loading","YunRcmdMv","data","flagScrollT","0","1","pageNum","loading","created","area","sort","Math","random","getData","activated","window","addEventListener","handlerScroll","deactivated","removeEventListener","methods","$store","commit","loginStatus","allmv","vdoRcmd","push","datas","map","id","vid","duration","durationms","title","img","coverUrl","url","urlInfo","tag","videoGroup","playCount","playTime","praisedCount","limit","getAllMv","offset","cover","artistName","error","console","log","getScrollTop","$nextTick","scrollTo","bodyH","document","body","scrollHeight","documentElement","sT","cH","getClientHeight","watch","newV","component","computed","getters","playerPlayList","playList","adoEl","songId","goLogin","$router","logout","dispatch","goBack","history","historyList","length","go","clickMenu","goSearch","toTop","scroll","top","behavior","goPlaylist","params","String","location","href","includes","clickMvIcon","type","Number","query","toast","msg","durationT","$toast","message","className","position","copyText","input","createElement","style","left","appendChild","select","execCommand","removeChild","pageYOffset","scrollTop","innerHeight","clientHeight","getScrollHeight","scrollH","beforeRouteEnter","to","from","next","vm","beforeRouteLeave"],"mappings":"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","file":"js/chunk-04adee80.2005f10d.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/yunCircle.7cdaad32.png\";","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"yun-village-page\"},[_c('Navbar',{ref:\"navbar\",staticClass:\"yun-village-navbar\",on:{\"clickLeft\":_vm.toggleMenu},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('i',{staticClass:\"iconfont icon-weibiaoti12\"})]},proxy:true},{key:\"middle\",fn:function(){return [_c('div',{staticClass:\"nav-flag\"},_vm._l((_vm.flagList),function(item,index){return _c('div',{key:index,staticClass:\"flag-item\",class:{'active': _vm.flagActive === index},on:{\"click\":function($event){return _vm.clickFlag(index)}}},[_vm._v(_vm._s(item))])}),0)]},proxy:true},{key:\"right\",fn:function(){return [_c('i',{staticClass:\"iconfont icon-zengjia\"})]},proxy:true}])}),_c('div',{staticClass:\"yun-village-content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flagActive === 0),expression:\"flagActive === 0\"}],staticClass:\"yun-focus\"},[_vm._m(0),_c('img',{staticClass:\"tip-img\",attrs:{\"src\":require(\"../../../assets/mine/yunCircle.png\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flagActive === 1),expression:\"flagActive === 1\"}],staticClass:\"video-recommend\"},_vm._l((_vm.recommendVideo),function(item,index){return _c('div',{key:index,staticClass:\"video-item two-column\"},[_c('YunRcmdMv',{attrs:{\"rcmdMv\":item}})],1)}),0)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"yun-circle\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"我的云圈 \"),_c('span',[_vm._v(\"(还没有加入云圈)\")])]),_c('div',{staticClass:\"go-circle\"},[_c('span',[_vm._v(\"去云圈广场逛逛\")]),_c('span',{staticClass:\"iconfont icon-jiantou\"})])])\n}]\n\nexport { render, staticRenderFns }","import { scrollPosition } from \"@/mixin/scrollPosition.js\";\r\nimport { global } from \"@/mixin/global\";\r\nimport { getAllMv, vdoRcmd } from \"@/api/api\";\r\n\r\n\r\nexport default {\r\n  mixins: [scrollPosition, global],\r\n  components: {\r\n    Navbar: () => import(\"@/components/Navbar\"),\r\n    Loading: () => import(\"@/components/Loading\"),\r\n    YunRcmdMv: () => import(\"@/components/YunRcmdMv\"),\r\n  },\r\n  data() {\r\n    return {\r\n      // 推荐mv\r\n      recommendVideo: [],\r\n      flagList: [\"关注\", \"推荐\"],\r\n      // 记录滚动高度\r\n      flagScrollT: { 0: 0, 1: 0 },\r\n      flagActive: 1,\r\n      pageNum: 0,\r\n      loading: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.area = ['内地','港台','欧美','日本','韩国'].sort(()=>Math.random()>0.5?1:-1)[0]\r\n    this.getData();\r\n  },\r\n  activated() {\r\n    window.addEventListener(\"scroll\", this.handlerScroll);\r\n  },\r\n  deactivated() {\r\n    window.removeEventListener(\"scroll\", this.handlerScroll);\r\n  },\r\n  methods: {\r\n    // todo: 登录后, 改变推荐接口, 视频推荐需要登录, 未登录前只能获取 mv \r\n    async getData() {\r\n      try {\r\n        this.$store.commit(\"changeLoading\", this.loading);\r\n        // console.log(this.pageNum);\r\n        if (!this.loginStatus) {\r\n          let limit = 20;\r\n          let allmv = await getAllMv({\r\n            area: this.area,\r\n            offset: this.pageNum * limit,\r\n            limit: limit,\r\n          });\r\n          this.recommendVideo.push(\r\n            ...allmv.data.map((item) => {\r\n              return {\r\n                id: item.id,\r\n                duration: item.duration,\r\n                name: item.name,\r\n                playCount: item.playCount,\r\n                img: item.cover,\r\n                tag: item.artistName,\r\n              };\r\n            })\r\n          );\r\n          this.pageNum++;\r\n        } else {\r\n          let allmv = await vdoRcmd(this.pageNum)\r\n          // console.log(allmv);\r\n          this.recommendVideo.push(\r\n            ...allmv.datas.map(item => {\r\n              return {\r\n                id: item.data.vid,\r\n                duration: item.data.durationms,\r\n                name: item.data.title,\r\n                img: item.data.coverUrl,\r\n                url: item.data.urlInfo.url,\r\n                tag: item.data.videoGroup && item.data.videoGroup[0].name,\r\n                playCount: item.data.playTime,\r\n                praisedCount: item.data.praisedCount\r\n              }\r\n            })\r\n          )\r\n          this.pageNum++\r\n        }\r\n        this.loading = false;\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        this.$store.commit(\"changeLoading\", false);\r\n      }\r\n    },\r\n    // 记录滚动高度, 切换后滚回原来位置\r\n    clickFlag(index) {\r\n      this.flagScrollT[this.flagActive] = this.getScrollTop();\r\n      this.flagActive = index;\r\n      this.$nextTick(() => {\r\n        window.scrollTo(0, this.flagScrollT[this.flagActive]);\r\n      });\r\n    },\r\n    handlerScroll() {\r\n      let bodyH = document.body.scrollHeight || document.documentElement.scrollHeight;\r\n      let sT = this.getScrollTop();\r\n      let cH = this.getClientHeight();\r\n      if (sT + cH > bodyH - 300 && !this.loading && this.flagActive === 1) {\r\n        this.loading = true;\r\n        // console.log(\"到底触发\");\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    loginStatus(newV) {\r\n      this.recommendVideo = []\r\n      this.getData()\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--14-0!./YunVillage.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--14-0!./YunVillage.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YunVillage.vue?vue&type=template&id=5c472326&scoped=true&\"\nimport script from \"./YunVillage.js?vue&type=script&lang=js&\"\nexport * from \"./YunVillage.js?vue&type=script&lang=js&\"\nimport style0 from \"./YunVillage.scss?vue&type=style&index=0&id=5c472326&prod&lang=scss&scoped=true&\"\nimport style1 from \"./YunVillage.vue?vue&type=style&index=1&id=5c472326&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c472326\",\n  null\n  \n)\n\nexport default component.exports","// 一些在组件共用的属性, 函数\r\n\r\nimport { songDetail, songUrl } from '@/api/api'\r\nexport let global = {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 获取登录状态\r\n    loginStatus() {\r\n      return this.$store.getters.loginStatus;\r\n    },\r\n    playerPlayList() {\r\n      return this.$store.getters.playList\r\n    },\r\n    adoEl() {\r\n      return this.$store.getters.adoEl\r\n    },\r\n    songId() {\r\n      return this.$store.getters.songId\r\n    }\r\n  },\r\n  methods: {\r\n    // 去登录\r\n    goLogin() {\r\n      !this.loginStatus && this.$router.push({ name: \"Login\" });\r\n    },\r\n    // 退出登录\r\n    logout() {\r\n      this.$store.dispatch(\"userLogout\");\r\n    },\r\n    // 菜单显示/隐藏\r\n    toggleMenu() {\r\n      this.$store.commit(\"toggleMenu\");\r\n    },\r\n    // http://localhost:8080\r\n    // 路由返回, 如果第一次进入的页面有导航返回键, go(-1), 是无效的, 把访问过的路由记录到 vuex, 只有一个路由还点了返回键, 就直接跳到首页\r\n    goBack() {\r\n      let history = this.$store.getters.historyList\r\n      if (history.length > 1) {\r\n        this.$router.go(-1);\r\n      } else {\r\n        this.$router.push({name: 'Find'})\r\n      }\r\n    },\r\n    // 点击菜单字体图标\r\n    clickMenu() {\r\n      console.log(\"点击了菜单\");\r\n    },\r\n    // 去搜索\r\n    goSearch() {\r\n      // console.log(\"前往搜索页\");\r\n      this.$router.push({name: 'Search'})\r\n    },\r\n    // 返回顶部\r\n    toTop() {\r\n      window.scroll({ top: 0, behavior: 'smooth'})\r\n    },\r\n    // 前往 歌单\r\n    goPlaylist(id) {\r\n      console.log(\"点击歌单:\", id);\r\n      this.$router.push({ name: \"PlayListDetail\", params: { id } });\r\n    },\r\n    async clickSong(id) {\r\n      // console.log('点击歌曲', id);\r\n      // http://localhost:8080/#/Home/Find\r\n      this.$store.commit('changeSongId', String(id))\r\n      let history = this.$store.getters.historyList\r\n      if (history.length <= 1 && !window.location.href.includes('?player=show')) {\r\n        window.location.href+='?player=show'\r\n      }\r\n      this.$store.commit('changeShowPlayer', true)\r\n    },\r\n    clickMvIcon(id, type=\"mv\") {\r\n      this.$store.commit('changeMvId', Number(id))\r\n      this.$router.push({name: 'MvPlayer', params: {id}, query: {type}})\r\n    },\r\n    // toast 提示\r\n    toast(msg, durationT = 1500) {\r\n      this.$toast({\r\n        message: msg,\r\n        className: \"playerToast\", duration: durationT, position: \"bottom\",\r\n      });\r\n    },\r\n    // 复制文本 value \r\n    copyText(value) {\r\n      // 创建的input需要加到 body, 不然复制不到值\r\n      let input = document.createElement('input')\r\n      input.value = value\r\n      input.style.position = 'absolute'\r\n      input.style.left = '-10000px'\r\n      input.style.top = '-10000px'\r\n      document.body.appendChild(input)\r\n      input.select()\r\n      document.execCommand('copy')\r\n      this.toast('复制成功! 快和小伙伴们分享吧!')\r\n      document.body.removeChild(input)\r\n    },\r\n    // 已滚动高度\r\n    getScrollTop() {\r\n      return (\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        0\r\n      );\r\n    },\r\n    // 窗口可视高度\r\n    getClientHeight() {\r\n      return (\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight ||\r\n        0\r\n      );\r\n    },\r\n    // 获取已滚动高度\r\n    getScrollHeight() {\r\n      return document.body.scrollHeight || document.documentElement.scrollHeight\r\n    }\r\n  },\r\n};\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YunVillage.vue?vue&type=style&index=1&id=5c472326&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./YunVillage.scss?vue&type=style&index=0&id=5c472326&prod&lang=scss&scoped=true&\"","// keep-alive 离开当前路由页面再返回时, 滚动到离开前的位置\r\nexport let scrollPosition = {\r\n  data() {\r\n    return {\r\n      scrollH: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description 获取页面滚动高度\r\n     */\r\n    getScrollTop() {\r\n      return (\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        0\r\n      );\r\n    },\r\n    /**\r\n     * @description 获取浏览器窗口高度\r\n     */\r\n    getClientHeight() {\r\n      return (\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight ||\r\n        0\r\n      );\r\n    },\r\n  },\r\n  // activated() {\r\n  //   this.$nextTick(() => {\r\n  //     window.scrollTo(0, this.scrollH);\r\n  //   });\r\n  // },\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      vm.$nextTick(() => {\r\n        window.scrollTo(0, vm.scrollH)\r\n      })\r\n    })\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    this.scrollH = this.getScrollTop();\r\n    next();\r\n  },\r\n};\r\n"],"sourceRoot":""}