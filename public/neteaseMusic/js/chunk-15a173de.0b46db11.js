(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15a173de","chunk-211cfdb4","chunk-41a17fc2"],{1062:function(t,e,a){"use strict";a("e95a")},2760:function(t,e,a){"use strict";a("df87")},"3d39":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{ref:"tabbar",staticClass:"tabbar-comp"},[t._l(t.tabObj,(function(a,s){return e("div",{key:s,ref:"tabItem",refInFor:!0,staticClass:"tabbar-item",class:{active:t.tabIndex===s},on:{click:function(e){return t.changeTab(s)}}},[t._v(" "+t._s(a)+" ")])})),e("div",{ref:"line",staticClass:"line"})],2)},i=[],l={props:{tabObj:{type:Array,default:function(){return[]},require:!0}},data(){return{tabIndex:0}},mounted(){this.changeTab(this.tabIndex)},methods:{changeTab(t){this.tabIndex=t;let e=this.$refs.line,a=this.$refs.tabItem,s=parseInt(getComputedStyle(a[0]).paddingLeft),i=8,l=a[t].offsetWidth-2*s+i,r=a[t].offsetLeft+s-i/2,n=this.$refs.tabbar.offsetWidth/2-l/2;e.style.width=l+"px",e.style.left=r+"px",this.$refs.tabbar.scrollLeft=r<=n?0:r-n,this.$emit("changeTab",t)}}},r=l,n=(a("faf3"),a("2877")),o=Object(n["a"])(r,s,i,!1,null,"786cc977",null);e["a"]=o.exports},"5a84":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("14d9"),a("4ec3");let s={data(){return{}},computed:{loginStatus(){return this.$store.getters.loginStatus},playerPlayList(){return this.$store.getters.playList},adoEl(){return this.$store.getters.adoEl},songId(){return this.$store.getters.songId}},methods:{goLogin(){!this.loginStatus&&this.$router.push({name:"Login"})},logout(){this.$store.dispatch("userLogout")},toggleMenu(){this.$store.commit("toggleMenu")},goBack(){let t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu(){console.log("点击了菜单")},goSearch(){this.$router.push({name:"Search"})},toTop(){window.scroll({top:0,behavior:"smooth"})},goPlaylist(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},async clickSong(t){this.$store.commit("changeSongId",String(t));let e=this.$store.getters.historyList;e.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),this.$store.commit("changeShowPlayer",!0)},clickMvIcon(t,e="mv"){this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast(t,e=1500){this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText(t){let e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight(){return document.body.scrollHeight||document.documentElement.scrollHeight}}}},"67d1":function(t,e,a){},"69f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAIAAABuP+aXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEZCODJGOEIwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEZCODJGOEEwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJEODEzMkQxODI0NjlGMjM4MjBFMzRCMzYyQTA4MTkwMSIgc3RSZWY6ZG9jdW1lbnRJRD0iRDgxMzJEMTgyNDY5RjIzODIwRTM0QjM2MkEwODE5MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7JkR1zAAAG0ElEQVR42qzYyW4USRAG4HG7WQy22VexYwMym0DIggsHTnDhWREXHgAJEEgggdgxOwbMbjA7eL6uqEkVtbTtmUnJrXZ2RsQfkRF/RFXP9+/fp6ene3p6/ios/9r8a46rKjUbPe049+LFiytXrly6dOnZs2eB6Y9D7fbAwMDatWt37tx54MCBjRs3tlqtqvZfv349efKEnjt37lA4OTn58+fPEqD58+evX79+dHSUHgo7m+w5ffbs2WvXrr158+bLly+/f/9OMhEea968eQsXLoRjw4YN+/btI9/X15ci5xjBy5cvU/L06dOPHz9+/foVIKqmsxUnQxXBFStW7Nmz5+jRo0B0YgA1yfHx8f7+/s2bN4NZuhSKaKR3YmLi7du3vjsDhNiEecauX78uhHfv3v3x48eqVas4umDBAqEq6nGSw+PZ8p0/J06c6KggyfvFixcPDw8fPnx40aJFvb29xYsUzE+fPj1//vzq1as+x8bGHNi6deuSJUvEBj7gLly4YJ/Ipk2b9u7dCwF/EsRwCVChOn/+PKA8YTdH4O4B37VrF/OHDh1qyh2Wtm3bdubMmRs3bjx48MBl7969GwhKHz169PDhQyhHRkaOHz8uwiXvS4k5NTV169Ytdu10zokM7bzhfZekpXRoaGj79u3Lly+HWNKxHeKvXr3in/2hbNWaj2D4lAcukcVI+Vb6gZjYpgBE3ErxILxy5cply5a5l5cvX4YKaN69e2fHvhTr7obFSkDM7RbtFU0Wc7gEQlHwIIrNAd9F1WH7fp0ri7SKVZcKJnBUzUeoih7El6i69NMs6esPBEljreu1UKp3NKeVZFtN0LpbSgGbEeWM2lpBunGdJRLtsoq8Odd4BFeyGGzRQYA6lKLEVtCzCUn3e51xsYJVWcSJOQL8JY0/fPiALEvONXlWin8kb6wZg8eKOmJx3bp1OQJkLAxYBemi98+fP3fxaTJbcl7hBXk7GS2Ac37q4gDN9OtBbLG4Y8eOvDsfPHhQe3z//r1PpIv10A4D1dJiAMrXr1+7QpFDbTbFExFBQy/tAA0ODlZdR6C6j46gsxDR4vW2HIF/NNxv377du3cP58OB3USpikAHYsZJ5s0K/AiO0lFRsr7MAE/igos0E90VdWpIpDjJIrs5ApbA4ZAv9+/fl5J6RjXb42R4P5ItKAPBli1bNDZJzksOuOkmWb5pqlpg6l6dCSX1ePBv377NFZwvMavZx2R4H+aLXM7Fmzdv6njMR8cqyeqiq1ev5rfrX7p0qVvLSSUQxMIHGJ68zVpuICZU/dmqTjESzTWR5UzNPNhuR/s1iAQT5OBqJ9X/Zc1SbZ4HUTYxw8Ck4ZZGvBQD8PuyVdLu5FS2YkKs3gJB8XN3EYPU/9qpGxETQ9OObJe0dJWSMepe4cl8qVcaAxk2NckDxRaMUkpDBbJmzRqDrjT6Iw+4y3xwhVnPsAWKJKgluJhiFJ7MP3nyZCRjpOHp06dVslogW1tHvdmSCmrhyJEjJryYZdrR3Y3LFy9eNGriNQYkbZWRnBQkdKRYiAxni2cxJ0YViDNHbdbmqfrCB3zmpLuGo1OifjbxYToxJKbMmjgxEDiJduBgErGjv0BANfOGxP379zchIMVJh2lwiW7EhXYQeNLglugZtE26tEiWyMHaTiNLEAaP05wo+NyCm/ljx441PbIBAcGpU6ceP37MosDnCCDinMcMc35QVZqXqik9mC3pxvXIef7haZ8D2erSV12860e7ZF23qOe9EY9KJcL4rvug19R801yZ0DcddiDujkV282rU8XggsaPT/Bd6qZ14S4urkszdRStvBxmnztH0oJM+S4PJv4hWMEEkUMduVVGV7Gr3E2nOnqSrPnQQlLQ0Ka0+0lTH5S43ld4C1EzrTQFoikQwWOlkeqHRNG33/LNqnli6p3d1KSRpzKR8zsftVgt/0Bg/Nalqim6r+JAa9d0lv1AK8sFIbGNfJEgK1Zt87NjHerVtqfhvahx5HviL+QzBxWzTVND+xWhmSQTMKk6NHk0cm8lwCMayVXoPVPJenNhiMQbddjwvTExMYNlz587F3JfeoSTUKMwBozA2RBv6myYbzS0mVf0aM2qtSBeI4juU4tNSvEOhipT+B1nnxOjoaOzyTwwjJKXCo11nMzrwXusyaurxYQBcJGMHUESL85mRJdVpO95aGIMNH/FGrTO5xPOCvuCLO9bxUgyLBBfv0kQ7Rnvtoxgn3+3Q7gwEAiYhYvIoVWk86jDvfDwv5JOqXqdDpveJpXpjgE/43Jib3idWeZNU8X2imFXHNU25/D5ReGck/BlfjRajNdeXCn8LMAAYi9RmJ0FkfQAAAABJRU5ErkJggg=="},8578:function(t,e,a){"use strict";a("67d1")},9245:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"play-list-comp",on:{click:function(e){return t.goPlaylist(t.playListData.id)}}},[e("div",{staticClass:"top-shadow",style:{"background-color":t.topShadow.background}}),e("div",{staticClass:"play-list-box",style:{top:t.topShadow.height}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.playListData.img+"?param=300y300",expression:"playListData.img+'?param=300y300'"}],attrs:{alt:""}}),t.playListData.playCount?e("span",{staticClass:"tr-text"},[e("span",{staticClass:"iconfont icon-bofangsanjiaoxing"}),t._v(" "+t._s(t._f("formatNum")(t.playListData.playCount))+" ")]):e("span",{staticClass:"tr-text"},[t._v(t._s(t.playListData.frequency))]),t.playIcon?e("i",{staticClass:"iconfont icon-bofang2"}):t._e()]),t.playListData.name.length?e("div",{staticClass:"play-list-name two-eli"},[t._v(t._s(t.playListData.name))]):t._e()])},i=[],l=a("5a84"),r={mixins:[l["a"]],props:{topShadow:{type:Object,default:function(){return{background:"#f2f2f2",height:".04rem"}}},playIcon:{type:Boolean,default:!1},playListData:{type:Object,default:function(){return{}},require:!0}},methods:{clickPlayList(t){this.$emit("clickPlayList",t)}}},n=r,o=(a("8578"),a("2877")),c=Object(o["a"])(n,s,i,!1,null,"518e3d4b",null);e["default"]=c.exports},ae8c:function(t,e,a){},b0e2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"listSquare",staticClass:"playlist-page"},[e("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[e("div",{staticClass:"playlist-name"},[t._v("歌单广场")])]},proxy:!0}])}),e("div",{ref:"squareTabbar",staticClass:"tabbar"},[e("div",{staticClass:"tab"},[e("Tabbar",{ref:"tabbar",attrs:{tabObj:t.tabData},on:{changeTab:t.tabChange}})],1),t._m(0)]),e("div",{staticClass:"swiper-box"},[t.tabData.length?e("swiper",{ref:"listSwiper",staticClass:"list-swiper",attrs:{options:t.listSwiperOptions},on:{slideChange:t.swiperChange}},t._l(t.tabData,(function(a,s){return e("swiper-slide",{key:s,ref:"listItem",refInFor:!0,staticClass:"list-item-box"},[e("div",{staticClass:"playlist-content"},t._l(t.playList[s],(function(t,a){return e("div",{key:a,staticClass:"playlist-box"},[e("PlayListBlock",{attrs:{topShadow:{background:"#e9e8e8",height:".05rem"},playListData:t}})],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tabParams[s].more,expression:"tabParams[index].more"}],staticClass:"loading",style:{"padding-top":t.playList[s].length?"":".3rem"}},[e("div",{staticClass:"circle"},[e("van-loading",{attrs:{color:"red",size:"0.2rem"}})],1),e("p",[t._v("正在加载")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.tabParams[s].more,expression:"!tabParams[index].more"}],staticClass:"bottom"},[t._v("到底了!")])])})),1):t._e()],1)],1)},i=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"more"},[e("img",{attrs:{src:a("69f5")}})])}],l=(a("14d9"),a("5a84")),r=a("d178"),n=a("3d39"),o=a("9245"),c=a("4ec3"),d={name:"playlistSquareInclude",mixins:[l["a"]],components:{Navbar:r["default"],Tabbar:n["a"],PlayListBlock:o["default"]},data(){return{tabData:["官方","精品","华语","轻音乐","古风","电子","ACG"],tabParams:[],tabbarScrollLeft:0,playList:[],listSwiperOptions:{resistanceRatio:0},loading:!1}},computed:{listSwiper(){return this.$refs.listSwiper.$swiper}},created(){this.tabParams=this.tabData.map(t=>({offset:1,scroll:0,more:!0})),this.playList=this.tabData.map(t=>[])},mounted(){this.isMounted=!0,this.$refs.listItem.forEach(t=>{t.$el.addEventListener("scroll",this.swiperItemScroll)}),this.getData(),this.tabbarEl=this.$refs.tabbar.$el,this.tabbarEl.addEventListener("scroll",this.getTabbarScrollL)},activated(){this.$refs.listItem.forEach((t,e)=>{t.$el.scrollTop=this.tabParams[e].scroll}),this.$refs.tabbar.$el.scrollLeft=this.tabbarScrollLeft},methods:{async getData(){try{this.loading=!0;let t=this.listSwiper.realIndex,e=18,a={};if(a={cat:this.tabData[t].replace("精品","流行"),limit:e,offset:(this.tabParams[t].offset-1)*e},this.tabParams[t].more){let e=await Object(c["r"])(a);this.playList[t].push(...e.playlists.map(t=>({id:t.id,name:t.name,img:t.coverImgUrl,playCount:t.playCount}))),this.tabParams[t].offset+=1,this.tabParams[t].more=e.more}else console.log("没有了!");this.loading=!1}catch(t){this.loading=!1,console.log(t)}},swiperChange(){this.$refs.tabbar.changeTab(this.listSwiper.realIndex),this.playList[this.listSwiper.realIndex].length||this.getData()},tabChange(t){this.isMounted&&this.listSwiper.slideTo(t,150)},swiperItemScroll(){let t=this.listSwiper.realIndex,e=this.$refs.listSwiper.$el.offsetHeight,a=Math.ceil(this.$refs.listItem[t].$el.scrollTop),s=this.$refs.listItem[t].$el.scrollHeight;this.tabParams[t].scroll=a,e+a+50>=s&&!this.loading&&this.getData()},getTabbarScrollL(){this.tabbarScrollLeft=this.tabbarEl.scrollLeft}}},h=d,u=(a("1062"),a("2760"),a("2877")),b=Object(u["a"])(h,s,i,!1,null,"4b654a8d",null);e["default"]=b.exports},cc60:function(t,e,a){},d178:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar-comp"},[e("div",{staticClass:"left",on:{click:function(e){return t.clickItem("left")}}},[t._t("left")],2),e("div",{staticClass:"middle",on:{click:function(e){return t.clickItem("middle")}}},[t._t("middle")],2),e("div",{staticClass:"right",on:{click:function(e){return t.clickItem("right")}}},[t._t("right")],2),e("div",{staticClass:"background"},[t._t("background")],2)])},i=[],l={methods:{clickItem(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted(){this.$emit("navbarMounted")}},r=l,n=(a("d714"),a("2877")),o=Object(n["a"])(r,s,i,!1,null,"2ce0cfb9",null);e["default"]=o.exports},d714:function(t,e,a){"use strict";a("ae8c")},df87:function(t,e,a){},e95a:function(t,e,a){},faf3:function(t,e,a){"use strict";a("cc60")}}]);
//# sourceMappingURL=chunk-15a173de.0b46db11.js.map