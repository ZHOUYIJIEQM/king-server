{"version":3,"sources":["webpack:///./src/views/PlayListSquare/PlayListSquare.scss?1e42","webpack:///./src/views/PlayListSquare/PlayListSquare.vue?c013","webpack:///./src/components/Tabbar.vue","webpack:///src/components/Tabbar.vue","webpack:///./src/components/Tabbar.vue?b2d6","webpack:///./src/components/Tabbar.vue?6aff","webpack:///./src/mixin/global.js","webpack:///./src/assets/more.png","webpack:///./src/components/PlayListBlock.vue?79e1","webpack:///./src/components/PlayListBlock.vue","webpack:///src/components/PlayListBlock.vue","webpack:///./src/components/PlayListBlock.vue?ef71","webpack:///./src/components/PlayListBlock.vue?d6c6","webpack:///./src/views/PlayListSquare/PlayListSquare.vue","webpack:///./src/views/PlayListSquare/PlayListSquare.js","webpack:///./src/views/PlayListSquare/PlayListSquare.js?20ef","webpack:///./src/views/PlayListSquare/PlayListSquare.vue?54a9","webpack:///./src/components/Navbar.vue","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?6c87","webpack:///./src/components/Navbar.vue?402d","webpack:///./src/components/Navbar.vue?b454","webpack:///./src/components/Tabbar.vue?d390"],"names":["render","_vm","this","_c","_self","ref","staticClass","_l","tabObj","item","index","key","refInFor","class","active","tabIndex","on","$event","changeTab","_v","_s","staticRenderFns","props","type","default","require","data","mounted","methods","line","component","global","computed","loginStatus","$store","getters","playerPlayList","playList","adoEl","songId","goLogin","$router","push","name","logout","dispatch","toggleMenu","commit","goBack","history","historyList","length","go","clickMenu","console","log","goSearch","toTop","window","scroll","top","behavior","goPlaylist","id","params","String","location","href","includes","clickMvIcon","Number","query","toast","msg","durationT","$toast","message","className","duration","position","copyText","value","input","document","createElement","style","left","body","appendChild","select","execCommand","removeChild","getScrollTop","pageYOffset","documentElement","scrollTop","getClientHeight","innerHeight","clientHeight","getScrollHeight","scrollHeight","module","exports","playListData","topShadow","background","height","directives","rawName","img","expression","attrs","playCount","_f","frequency","playIcon","_e","mixins","clickPlayList","_setupProxy","scopedSlots","_u","fn","proxy","tabData","tabChange","_m","listSwiperOptions","swiperChange","item1","index1","tabParams","more","components","Navbar","Tabbar","PlayListBlock","tabbarScrollLeft","resistanceRatio","loading","listSwiper","$refs","$swiper","created","map","offset","isMounted","listItem","forEach","$el","addEventListener","swiperItemScroll","getData","tabbarEl","tabbar","getTabbarScrollL","activated","scrollLeft","realIndex","limit","cat","replace","highqualityPlayList","playlists","coverImgUrl","error","slideTo","swiperH","offsetHeight","scrollT","Math","ceil","scrollH","clickItem","_t"],"mappings":"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","file":"js/chunk-15a173de.0b46db11.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./PlayListSquare.scss?vue&type=style&index=0&id=4b654a8d&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayListSquare.vue?vue&type=style&index=1&id=4b654a8d&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"tabbar\",staticClass:\"tabbar-comp\"},[_vm._l((_vm.tabObj),function(item,index){return _c('div',{key:index,ref:\"tabItem\",refInFor:true,staticClass:\"tabbar-item\",class:{active: _vm.tabIndex === index},on:{\"click\":function($event){return _vm.changeTab(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),_c('div',{ref:\"line\",staticClass:\"line\"})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 用于歌单广场的标签栏 -->\r\n  <div class=\"tabbar-comp\" ref=\"tabbar\">\r\n    <div \r\n      class=\"tabbar-item\"\r\n      ref=\"tabItem\"\r\n      v-for=\"(item, index) in tabObj\"\r\n      :key=\"index\"\r\n      :class=\"{active: tabIndex === index}\"\r\n      @click=\"changeTab(index)\"\r\n    >\r\n      {{item}} \r\n    </div>\r\n    <div class=\"line\" ref=\"line\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    tabObj: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      },\r\n      require: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      tabIndex: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.changeTab(this.tabIndex)\r\n  },\r\n  methods: {\r\n    changeTab(index) {\r\n      this.tabIndex = index\r\n      let line = this.$refs.line\r\n      let allItem = this.$refs.tabItem\r\n      let pdL = parseInt(getComputedStyle(allItem[0]).paddingLeft)\r\n      let gap = 8\r\n      let width = allItem[index].offsetWidth - 2 * pdL + gap\r\n      let left = allItem[index].offsetLeft + pdL - gap/2\r\n      let center = this.$refs.tabbar.offsetWidth / 2 - width / 2\r\n      line.style.width = width + 'px'\r\n      line.style.left = left + 'px'\r\n      if (left <= center) {\r\n        this.$refs.tabbar.scrollLeft = 0\r\n      } else {\r\n        this.$refs.tabbar.scrollLeft = left - center\r\n      }\r\n      this.$emit('changeTab', index)\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variable.scss';\r\n@import '@/styles/mixin.scss';\r\n$gap: .08rem;\r\n$lineH: .05rem;\r\n.tabbar-comp {\r\n  // 平滑滚动\r\n  scroll-behavior: smooth;\r\n  position: relative;\r\n  overflow: scroll;\r\n  @include df();\r\n  align-items: center;\r\n  .tabbar-item {\r\n    z-index: 1;\r\n    padding: $gap .15rem;\r\n    white-space: nowrap;\r\n    &.active {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  .line {\r\n    position: absolute;\r\n    left: .1rem;\r\n    bottom: calc($gap - $lineH + .03rem);\r\n    height: $lineH;\r\n    width: calc(2em + .05rem);\r\n    border-radius: 2rem;\r\n    background: linear-gradient(80deg, hsla(0, 100%, 63%, 0.7), #fe3030);\r\n    transition: all .2s;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabbar.vue?vue&type=template&id=786cc977&scoped=true&\"\nimport script from \"./Tabbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabbar.vue?vue&type=style&index=0&id=786cc977&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"786cc977\",\n  null\n  \n)\n\nexport default component.exports","// 一些在组件共用的属性, 函数\r\n\r\nimport { songDetail, songUrl } from '@/api/api'\r\nexport let global = {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 获取登录状态\r\n    loginStatus() {\r\n      return this.$store.getters.loginStatus;\r\n    },\r\n    playerPlayList() {\r\n      return this.$store.getters.playList\r\n    },\r\n    adoEl() {\r\n      return this.$store.getters.adoEl\r\n    },\r\n    songId() {\r\n      return this.$store.getters.songId\r\n    }\r\n  },\r\n  methods: {\r\n    // 去登录\r\n    goLogin() {\r\n      !this.loginStatus && this.$router.push({ name: \"Login\" });\r\n    },\r\n    // 退出登录\r\n    logout() {\r\n      this.$store.dispatch(\"userLogout\");\r\n    },\r\n    // 菜单显示/隐藏\r\n    toggleMenu() {\r\n      this.$store.commit(\"toggleMenu\");\r\n    },\r\n    // http://localhost:8080\r\n    // 路由返回, 如果第一次进入的页面有导航返回键, go(-1), 是无效的, 把访问过的路由记录到 vuex, 只有一个路由还点了返回键, 就直接跳到首页\r\n    goBack() {\r\n      let history = this.$store.getters.historyList\r\n      if (history.length > 1) {\r\n        this.$router.go(-1);\r\n      } else {\r\n        this.$router.push({name: 'Find'})\r\n      }\r\n    },\r\n    // 点击菜单字体图标\r\n    clickMenu() {\r\n      console.log(\"点击了菜单\");\r\n    },\r\n    // 去搜索\r\n    goSearch() {\r\n      // console.log(\"前往搜索页\");\r\n      this.$router.push({name: 'Search'})\r\n    },\r\n    // 返回顶部\r\n    toTop() {\r\n      window.scroll({ top: 0, behavior: 'smooth'})\r\n    },\r\n    // 前往 歌单\r\n    goPlaylist(id) {\r\n      console.log(\"点击歌单:\", id);\r\n      this.$router.push({ name: \"PlayListDetail\", params: { id } });\r\n    },\r\n    async clickSong(id) {\r\n      // console.log('点击歌曲', id);\r\n      // http://localhost:8080/#/Home/Find\r\n      this.$store.commit('changeSongId', String(id))\r\n      let history = this.$store.getters.historyList\r\n      if (history.length <= 1 && !window.location.href.includes('?player=show')) {\r\n        window.location.href+='?player=show'\r\n      }\r\n      this.$store.commit('changeShowPlayer', true)\r\n    },\r\n    clickMvIcon(id, type=\"mv\") {\r\n      this.$store.commit('changeMvId', Number(id))\r\n      this.$router.push({name: 'MvPlayer', params: {id}, query: {type}})\r\n    },\r\n    // toast 提示\r\n    toast(msg, durationT = 1500) {\r\n      this.$toast({\r\n        message: msg,\r\n        className: \"playerToast\", duration: durationT, position: \"bottom\",\r\n      });\r\n    },\r\n    // 复制文本 value \r\n    copyText(value) {\r\n      // 创建的input需要加到 body, 不然复制不到值\r\n      let input = document.createElement('input')\r\n      input.value = value\r\n      input.style.position = 'absolute'\r\n      input.style.left = '-10000px'\r\n      input.style.top = '-10000px'\r\n      document.body.appendChild(input)\r\n      input.select()\r\n      document.execCommand('copy')\r\n      this.toast('复制成功! 快和小伙伴们分享吧!')\r\n      document.body.removeChild(input)\r\n    },\r\n    // 已滚动高度\r\n    getScrollTop() {\r\n      return (\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        0\r\n      );\r\n    },\r\n    // 窗口可视高度\r\n    getClientHeight() {\r\n      return (\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight ||\r\n        0\r\n      );\r\n    },\r\n    // 获取已滚动高度\r\n    getScrollHeight() {\r\n      return document.body.scrollHeight || document.documentElement.scrollHeight\r\n    }\r\n  },\r\n};\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAIAAABuP+aXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEZCODJGOEIwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEZCODJGOEEwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJEODEzMkQxODI0NjlGMjM4MjBFMzRCMzYyQTA4MTkwMSIgc3RSZWY6ZG9jdW1lbnRJRD0iRDgxMzJEMTgyNDY5RjIzODIwRTM0QjM2MkEwODE5MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7JkR1zAAAG0ElEQVR42qzYyW4USRAG4HG7WQy22VexYwMym0DI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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayListBlock.vue?vue&type=style&index=0&id=518e3d4b&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"play-list-comp\",on:{\"click\":function($event){return _vm.goPlaylist(_vm.playListData.id)}}},[_c('div',{staticClass:\"top-shadow\",style:({'background-color': _vm.topShadow.background})}),_c('div',{staticClass:\"play-list-box\",style:({'top': _vm.topShadow.height})},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.playListData.img+'?param=300y300'),expression:\"playListData.img+'?param=300y300'\"}],attrs:{\"alt\":\"\"}}),(_vm.playListData.playCount)?_c('span',{staticClass:\"tr-text\"},[_c('span',{staticClass:\"iconfont icon-bofangsanjiaoxing\"}),_vm._v(\" \"+_vm._s(_vm._f(\"formatNum\")(_vm.playListData.playCount))+\" \")]):_c('span',{staticClass:\"tr-text\"},[_vm._v(_vm._s(_vm.playListData.frequency))]),(_vm.playIcon)?_c('i',{staticClass:\"iconfont icon-bofang2\"}):_vm._e()]),(_vm.playListData.name.length)?_c('div',{staticClass:\"play-list-name two-eli\"},[_vm._v(_vm._s(_vm.playListData.name))]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 发现页 用于 显示歌单图片, 歌单名, 播放次数 的组件 -->\r\n  <div class=\"play-list-comp\" @click=\"goPlaylist(playListData.id)\">\r\n    <div class=\"top-shadow\" :style=\"{'background-color': topShadow.background}\"></div>\r\n    <div class=\"play-list-box\" :style=\"{'top': topShadow.height}\">\r\n      <img v-lazy=\"playListData.img+'?param=300y300'\" alt=\"\">\r\n      <!-- 右上角的播放数据 -->\r\n      <span class=\"tr-text\" v-if=\"playListData.playCount\">\r\n        <span class=\"iconfont icon-bofangsanjiaoxing\"></span>\r\n        {{playListData.playCount | formatNum}}\r\n      </span>\r\n      <!-- 排行榜非数字 -->\r\n      <span class=\"tr-text\" v-else>{{playListData.frequency}}</span>\r\n      <i class=\"iconfont icon-bofang2\" v-if=\"playIcon\"></i>\r\n    </div>\r\n    <div class=\"play-list-name two-eli\" v-if=\"playListData.name.length\">{{playListData.name}}</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { global } from \"@/mixin/global.js\";\r\nexport default {\r\n  mixins: [global],\r\n  props: {\r\n    // 设置图片上方阴影一些样式\r\n    topShadow: {\r\n      type: Object,\r\n      default: function() {\r\n        return {\r\n          // 阴影的背景色\r\n          background: '#f2f2f2',\r\n          // 阴影显示的高度\r\n          height: '.04rem'\r\n        }\r\n      }\r\n    },\r\n    // 是否显示播放图标\r\n    playIcon: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 显示歌单的数据\r\n    playListData: {\r\n      type: Object,\r\n      default: function() {\r\n        return {}\r\n      },\r\n      require: true\r\n    }\r\n  },\r\n  methods: {\r\n    clickPlayList(id) {\r\n      this.$emit('clickPlayList', id)\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variable.scss';\r\n\r\n.play-list-comp {\r\n  position: relative;\r\n\r\n  .top-shadow {\r\n    width: 92%;\r\n    margin-left: 4%;\r\n    aspect-ratio: 1;\r\n    position: absolute;\r\n    border-radius: .1rem;\r\n    z-index: 1;\r\n  }\r\n\r\n  .play-list-box {\r\n    position: relative;\r\n    width: 100%;\r\n    aspect-ratio: 1;\r\n    border-radius: .1rem;\r\n    font-size: 0;\r\n    overflow: hidden;\r\n    background: $gjColor;\r\n    z-index: 2;\r\n    img {\r\n      width: 100%;\r\n    }\r\n    .tr-text {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      position: absolute;\r\n      right: .02rem;\r\n      top: .03rem;\r\n      color: #f5f5f5;\r\n      background-color: rgba(43, 43, 43, .25);\r\n      padding: .02rem .06rem;\r\n      font-size: .1rem;\r\n      border-radius: .1rem;\r\n      .iconfont {\r\n        font-size: .1rem;\r\n        margin-right: .01rem;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    .icon-bofang2 {\r\n      color: rgba(255, 255, 255, .7);\r\n      position: absolute;\r\n      bottom: .06rem;\r\n      right: .04rem;\r\n      font-size: .22rem;\r\n    }\r\n  }\r\n\r\n  .play-list-name {\r\n    margin-top: .1rem;\r\n    color: #333;\r\n    font-size: .12rem;\r\n    line-height: 1.3;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayListBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayListBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayListBlock.vue?vue&type=template&id=518e3d4b&scoped=true&\"\nimport script from \"./PlayListBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayListBlock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayListBlock.vue?vue&type=style&index=0&id=518e3d4b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"518e3d4b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"listSquare\",staticClass:\"playlist-page\"},[_c('Navbar',{ref:\"navbar\",staticClass:\"navbar\",on:{\"clickLeft\":_vm.goBack},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont icon-fanhui\"})])]},proxy:true},{key:\"middle\",fn:function(){return [_c('div',{staticClass:\"playlist-name\"},[_vm._v(\"歌单广场\")])]},proxy:true}])}),_c('div',{ref:\"squareTabbar\",staticClass:\"tabbar\"},[_c('div',{staticClass:\"tab\"},[_c('Tabbar',{ref:\"tabbar\",attrs:{\"tabObj\":_vm.tabData},on:{\"changeTab\":_vm.tabChange}})],1),_vm._m(0)]),_c('div',{staticClass:\"swiper-box\"},[(_vm.tabData.length)?_c('swiper',{ref:\"listSwiper\",staticClass:\"list-swiper\",attrs:{\"options\":_vm.listSwiperOptions},on:{\"slideChange\":_vm.swiperChange}},_vm._l((_vm.tabData),function(item,index){return _c('swiper-slide',{key:index,ref:\"listItem\",refInFor:true,staticClass:\"list-item-box\"},[_c('div',{staticClass:\"playlist-content\"},_vm._l((_vm.playList[index]),function(item1,index1){return _c('div',{key:index1,staticClass:\"playlist-box\"},[_c('PlayListBlock',{attrs:{\"topShadow\":{background: '#e9e8e8', height: '.05rem'},\"playListData\":item1}})],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabParams[index].more),expression:\"tabParams[index].more\"}],staticClass:\"loading\",style:({'padding-top': _vm.playList[index].length ? '' : '.3rem'})},[_c('div',{staticClass:\"circle\"},[_c('van-loading',{attrs:{\"color\":\"red\",\"size\":\"0.2rem\"}})],1),_c('p',[_vm._v(\"正在加载\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tabParams[index].more),expression:\"!tabParams[index].more\"}],staticClass:\"bottom\"},[_vm._v(\"到底了!\")])])}),1):_vm._e()],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"more\"},[_c('img',{attrs:{\"src\":require(\"../../assets/more.png\")}})])\n}]\n\nexport { render, staticRenderFns }","import { global } from \"@/mixin/global.js\";\r\nimport Navbar from \"@/components/Navbar\";\r\nimport Tabbar from \"@/components/Tabbar\";\r\nimport PlayListBlock from \"@/components/PlayListBlock\";\r\nimport { highqualityPlayList } from \"@/api/api\";\r\n\r\nexport default {\r\n  name: \"playlistSquareInclude\",\r\n  mixins: [global],\r\n  components: {\r\n    Navbar,\r\n    Tabbar,\r\n    PlayListBlock,\r\n  },\r\n  data() {\r\n    return {\r\n      tabData: [\"官方\", \"精品\", \"华语\", \"轻音乐\", \"古风\", \"电子\", \"ACG\"],\r\n      // 保留一些需要的数据 保留每个轮播项的 offset分页 scroll滚动位置 more是否有更多\r\n      tabParams: [],\r\n      tabbarScrollLeft: 0,\r\n      playList: [],\r\n      listSwiperOptions: {\r\n        resistanceRatio: 0,\r\n      },\r\n      loading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    listSwiper() {\r\n      return this.$refs.listSwiper.$swiper;\r\n    },\r\n  },\r\n  created() {\r\n    // 如果填充的类型为对象，那么被赋值的是同一个内存地址的对象，而不是深拷贝对象。\r\n    // this.tabParams = new Array(this.tabData.length).fill({offset: 1});\r\n    // this.playList = new Array(this.tabData.length).fill([]);\r\n    // this.tabParams[0].offset = 2 // this.tabParams数组里所有对象的offset都变成2了 this.tabParams[0].offset this.tabParams[1].offset ... this.tabParams[5].offset\r\n\r\n    this.tabParams = this.tabData.map(item => { return {offset: 1, scroll: 0, more: true} })\r\n    this.playList = this.tabData.map(item => [])\r\n  },\r\n  mounted() {\r\n    this.isMounted = true;\r\n    // 添加滚动事件, 上拉加载\r\n    this.$refs.listItem.forEach(item => {\r\n      item.$el.addEventListener('scroll', this.swiperItemScroll)\r\n    })\r\n    this.getData();\r\n\r\n    this.tabbarEl = this.$refs.tabbar.$el\r\n    this.tabbarEl.addEventListener('scroll', this.getTabbarScrollL)\r\n  },\r\n  activated() {\r\n    // 点击歌单后返回时, 返回原来的滚动位置\r\n    this.$refs.listItem.forEach((item, index) => {\r\n      item.$el.scrollTop = this.tabParams[index].scroll\r\n    })\r\n    this.$refs.tabbar.$el.scrollLeft = this.tabbarScrollLeft\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    async getData() {\r\n      try {\r\n        this.loading = true\r\n        let index = this.listSwiper.realIndex;\r\n        // 6行\r\n        let limit = 3 * 6\r\n        let params = {};\r\n        // 没有精品这个 cat, 用流行替代\r\n        params = {\r\n          cat: this.tabData[index].replace(\"精品\", \"流行\"),\r\n          limit: limit,\r\n          offset: (this.tabParams[index].offset - 1) * limit,\r\n        };\r\n        // console.log(params);\r\n        if (this.tabParams[index].more) {\r\n          let data = await highqualityPlayList(params);\r\n          // console.log(data);\r\n          this.playList[index].push(\r\n            ...data.playlists.map((item) => {\r\n              return {\r\n                id: item.id,\r\n                name: item.name,\r\n                img: item.coverImgUrl,\r\n                playCount: item.playCount,\r\n              };\r\n            })\r\n          );\r\n          this.tabParams[index].offset += 1\r\n          this.tabParams[index].more = data.more\r\n        } else {\r\n          console.log('没有了!');\r\n        }\r\n        this.loading = false\r\n      } catch (error) {\r\n        this.loading = false\r\n        console.log(error);\r\n      }\r\n    },\r\n    // 轮播改变时\r\n    swiperChange() {\r\n      this.$refs.tabbar.changeTab(this.listSwiper.realIndex);\r\n      if (!this.playList[this.listSwiper.realIndex].length) {\r\n        this.getData();\r\n      }\r\n    },\r\n    // tab 发生改变时\r\n    tabChange(index) {\r\n      this.isMounted && this.listSwiper.slideTo(index, 150);\r\n    },\r\n    // 滚动处理\r\n    swiperItemScroll() {\r\n      // console.log(this.listSwiper.realIndex, '滚动');\r\n      let index = this.listSwiper.realIndex\r\n      let swiperH = this.$refs.listSwiper.$el.offsetHeight\r\n      let scrollT = Math.ceil(this.$refs.listItem[index].$el.scrollTop)\r\n      let scrollH = this.$refs.listItem[index].$el.scrollHeight\r\n      // 保留滚动位置\r\n      this.tabParams[index].scroll = scrollT\r\n      // console.log(swiperH, scrollT, scrollH);\r\n      if (swiperH + scrollT + 50 >= scrollH && !this.loading) {\r\n        // console.log('到底了');\r\n        this.getData()\r\n      }\r\n    },\r\n    getTabbarScrollL() {\r\n      this.tabbarScrollLeft = this.tabbarEl.scrollLeft\r\n    }\r\n  },\r\n};\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./PlayListSquare.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./PlayListSquare.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayListSquare.vue?vue&type=template&id=4b654a8d&scoped=true&\"\nimport script from \"./PlayListSquare.js?vue&type=script&lang=js&\"\nexport * from \"./PlayListSquare.js?vue&type=script&lang=js&\"\nimport style0 from \"./PlayListSquare.scss?vue&type=style&index=0&id=4b654a8d&prod&lang=scss&scoped=true&\"\nimport style1 from \"./PlayListSquare.vue?vue&type=style&index=1&id=4b654a8d&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b654a8d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navbar-comp\"},[_c('div',{staticClass:\"left\",on:{\"click\":function($event){return _vm.clickItem('left')}}},[_vm._t(\"left\")],2),_c('div',{staticClass:\"middle\",on:{\"click\":function($event){return _vm.clickItem('middle')}}},[_vm._t(\"middle\")],2),_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.clickItem('right')}}},[_vm._t(\"right\")],2),_c('div',{staticClass:\"background\"},[_vm._t(\"background\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"navbar-comp\">\r\n    <div class=\"left\" @click=\"clickItem('left')\">\r\n      <slot name=\"left\"></slot>\r\n    </div>\r\n    <div class=\"middle\" @click=\"clickItem('middle')\">\r\n      <slot name=\"middle\"></slot>\r\n    </div>\r\n    <div class=\"right\" @click=\"clickItem('right')\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n    <div class=\"background\">\r\n      <slot name=\"background\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    clickItem(type) {\r\n      type === 'left' && this.$emit('clickLeft')\r\n      type === 'middle' && this.$emit('clickMiddle')\r\n      type === 'right' && this.$emit('clickRight')\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$emit('navbarMounted')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variable.scss\";\r\n\r\n.navbar-comp {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #fff;\r\n  z-index: 10;\r\n  height: $navHeight;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: .08rem 0;\r\n  i {\r\n    font-size: .22rem;\r\n  }\r\n  .left, .right {\r\n    height: 100%;\r\n    padding: 0 .15rem;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .middle {\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    &>div {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .background {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=2ce0cfb9&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=2ce0cfb9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ce0cfb9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=2ce0cfb9&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabbar.vue?vue&type=style&index=0&id=786cc977&prod&lang=scss&scoped=true&\""],"sourceRoot":""}