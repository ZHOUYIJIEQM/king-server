{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./src/components/Lyric/Lyric.vue","webpack:///src/components/Lyric/Lyric.vue","webpack:///./src/components/Lyric/Lyric.vue?1b9c","webpack:///./src/components/Lyric/Lyric.vue?4910","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/modules/es.array.at.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/to-string.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./src/components/Lyric/Lyric.vue?8aca","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/modules/es.string.at-alternative.js","webpack:///./node_modules/core-js/internals/classof.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","render","_vm","this","_c","_self","ref","staticClass","on","lyricBoxTouchS","lyricBoxTouchE","$event","lyricBoxScroll","apply","arguments","lyricTextArr","length","_l","item","index","key","refInFor","class","lyricActiveIndex","_v","_s","lyric","tlyric","_e","staticRenderFns","name","data","lyricTimer","lyricCanScroll","props","lyricObj","type","require","default","playTime","computed","timeKey","watch","handler","deep","immediate","mounted","methods","extractLyric","res","time","formatLyric","arr","setActiveIndex","scrollLyric","top","behavior","component","$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","undefined","getBuiltIn","toObject","lengthOfArrayLike","toIntegerOrInfinity","addToUnscopables","at","O","len","relativeIndex","k","DESCRIPTORS","V8_PROTOTYPE_DEFINE_BUG","definePropertyModule","anObject","toIndexedObject","objectKeys","f","Object","defineProperties","Properties","keys","create","defineProperty","UNSCOPABLES","ArrayPrototype","Array","prototype","configurable","value","classof","$String","argument","TypeError","global","process","activeXDocument","definePropertiesModule","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","contentWindow","document","open","F","NullProtoObject","ActiveXObject","error","domain","result","fails","METHOD_NAME","method","call","aCallable","IndexedObject","$TypeError","createMethod","IS_RIGHT","that","argumentsLength","memo","self","i","right","internalObjectKeys","uncurryThis","requireObjectCoercible","toString","charAt","FORCED","S","TO_STRING_TAG_SUPPORT","isCallable","classofRaw","$Object","CORRECT_ARGUMENTS","tryGet","it","tag","callee"],"mappings":"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","file":"js/chunk-16e1982c.f0e977ac.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"lyricBox\",staticClass:\"lyric-box\",on:{\"touchstart\":_vm.lyricBoxTouchS,\"touchend\":_vm.lyricBoxTouchE,\"&scroll\":function($event){return _vm.lyricBoxScroll.apply(null, arguments)}}},[(_vm.lyricTextArr.length)?_c('div',{staticClass:\"lyric-text\"},_vm._l((_vm.lyricTextArr),function(item,index){return _c('div',{key:index,ref:\"lyricText\",refInFor:true,staticClass:\"line\",class:{'active': _vm.lyricActiveIndex === index}},[_c('p',[_vm._v(_vm._s(item.lyric))]),(item.tlyric)?_c('p',[_vm._v(_vm._s(item.tlyric))]):_vm._e()])}),0):_c('div',{staticClass:\"no-lyric\"},[_vm._v(\"暂无歌词!\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div \r\n    class=\"lyric-box\"\r\n    ref=\"lyricBox\"\r\n    @touchstart=\"lyricBoxTouchS\"\r\n    @touchend=\"lyricBoxTouchE\"\r\n    @scroll.passive=\"lyricBoxScroll\"\r\n  >\r\n    <div class=\"lyric-text\" v-if=\"lyricTextArr.length\">\r\n      <div \r\n        class=\"line\"\r\n        ref=\"lyricText\" \r\n        v-for=\"(item, index) in lyricTextArr\"\r\n        :key=\"index\"\r\n        :class=\"{'active': lyricActiveIndex === index}\"\r\n      >\r\n        <p>{{item.lyric}}</p>\r\n        <p v-if=\"item.tlyric\">{{item.tlyric}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"no-lyric\" v-else>暂无歌词!</div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: 'Lyric',\r\n    data() {\r\n      return {\r\n        lyricTextArr: [],\r\n        lyricActiveIndex: 0,\r\n        lyricTimer: null,\r\n        lyricCanScroll: true,\r\n      }\r\n    },\r\n    props: {\r\n      lyricObj: {\r\n        type: Object,\r\n        require: true,\r\n        default: function() {\r\n          return {}\r\n        }\r\n      },\r\n      playTime: {\r\n        type: Number,\r\n        require: true,\r\n        default: 0\r\n      }\r\n    },\r\n    computed: {\r\n      timeKey() {\r\n        return this.lyricTextArr.map(i => i.time)\r\n      }\r\n    },\r\n    watch: {\r\n      lyricObj: {\r\n        handler: function (newV) {\r\n          // console.log(newV);\r\n          if (Object.keys(newV).length) {\r\n            this.lyricTextArr = []\r\n            this.lyricActiveIndex = 0\r\n            this.extractLyric(newV)\r\n            this.$nextTick(() => {\r\n              this.scrollLyric()\r\n            })\r\n          }\r\n        },\r\n        deep: true\r\n      },\r\n      playTime(newV) {\r\n        if (this.lyricTextArr.length > 1) {\r\n          this.setActiveIndex(newV)\r\n        }\r\n      },\r\n      lyricActiveIndex: {\r\n        handler: function() {\r\n          this.lyricCanScroll && this.scrollLyric()\r\n        },\r\n        immediate: true\r\n      }\r\n    },\r\n    mounted() {\r\n      this.lyricBoxEl = this.$refs.lyricBox\r\n    },\r\n    methods: {\r\n      // 提取出歌词, 并格式化为需要的结构\r\n      extractLyric(lyricObj) {\r\n        // console.log(lyricObj);\r\n        let res = {}\r\n        let lyric = lyricObj?.lrc?.lyric\r\n        let tlyric = lyricObj?.tlyric?.lyric\r\n        // 原歌词\r\n        if(lyric) {\r\n          lyric = lyric.split('\\n')\r\n          if (lyric.length) {\r\n            res.lyric = this.formatLyric(lyric)\r\n          }\r\n        }\r\n        // 翻译歌词\r\n        if (tlyric) {\r\n          tlyric = tlyric.split('\\n')\r\n          if (tlyric.length) {\r\n            res.tlyric = this.formatLyric(tlyric)\r\n          }\r\n        }\r\n        // console.log(res.lyric, Object.keys(res.lyric).length);\r\n        // 转换|合并\r\n        if (res.lyric && Object.keys(res.lyric).length) {\r\n          for (const key in res.lyric) {\r\n            let o = { time: Number(key), lyric: res.lyric[key] }\r\n            res?.tlyric && Object.assign(o, { tlyric: res?.tlyric[key] || '' })\r\n            this.lyricTextArr.push(o)\r\n          }\r\n          // 排序, 避免顺序问题\r\n          this.lyricTextArr.sort((a, b) => a.time - b.time)\r\n          // 处理时间间隔过长\r\n          if (this.lyricTextArr.length > 1) {\r\n            // [ { \"time\": 0, \"lyric\": \"...\" }, { \"time\": 1, \"lyric\": \"...\" }, { \"time\": 5940, \"lyric\": \"纯音乐，请欣赏\" } ]\r\n            // 时间间隔太长\r\n            if (this.lyricTextArr.at(-1).time - this.lyricTextArr.at(-2).time > 300) {\r\n              this.lyricTextArr[this.lyricTextArr.length - 1].time = this.lyricTextArr.at(-2).time + 1\r\n            }\r\n          } \r\n          // 歌词只有一个\r\n          if (this.lyricTextArr.length === 1) {\r\n            this.lyricTextArr[0].time = 0\r\n          }\r\n          // console.log(JSON.stringify(this.lyricTextArr, null, '  '));\r\n        }\r\n      },\r\n      formatLyric(arr) {\r\n        let res = {}\r\n        arr.forEach(item => {\r\n          // 取得时间和对应歌词\r\n          let data = /^\\[(.*?)\\](.*)$/ig.exec(item)\r\n          if (data) {\r\n            if (data[2].length) {\r\n              let t = data[1].split(':').reverse().reduce((pre, current, index) => {\r\n                return Number(pre) + Number(current) * Math.pow(60, index)\r\n              })\r\n              res[t.toFixed(2)] = data[2].trim()\r\n            }\r\n          }\r\n        })\r\n        return res\r\n      },\r\n      // 计算播放时间到达歌词数组哪个位置\r\n      setActiveIndex(time) {\r\n        if (time >= this.timeKey.at(-1)) {\r\n          return this.lyricActiveIndex = this.timeKey.length - 1\r\n        }\r\n        let index = this.timeKey.findIndex(i => i > time)\r\n        if (index - 1 < 0) {\r\n          return this.lyricActiveIndex = 0\r\n        } else {\r\n          return this.lyricActiveIndex = index - 1\r\n        }\r\n      },\r\n      scrollLyric(type=false) {\r\n        if (!this.lyricTextArr.length) {\r\n          return\r\n        }\r\n        \r\n        let currentLyric = this.$refs.lyricText[this.lyricActiveIndex]\r\n        let top = currentLyric.offsetTop - this.lyricBoxEl.offsetHeight / 2 + currentLyric.offsetHeight / 2\r\n\r\n        // 不带滚动动画\r\n        if(type) {\r\n          this.lyricBoxEl.scrollTo({ top })\r\n          return;\r\n        }\r\n        \r\n        // 有滚动动画\r\n        this.lyricBoxEl.scrollTo({\r\n          behavior: 'smooth',\r\n          top\r\n        })\r\n      },\r\n      lyricBoxTouchS() {\r\n        this.lyricCanScroll = false\r\n      },\r\n      lyricBoxTouchE() {\r\n        this.lyricCanScroll = true\r\n        this.lyricTimer && clearTimeout(this.lyricTimer)\r\n        // 与滚动事件同一个定时器, 只执行最后一次\r\n        this.lyricTimer = setTimeout(() => {\r\n          this.scrollLyric()\r\n        }, 500)\r\n      },\r\n      lyricBoxScroll() {\r\n        // 滚动只执行最后一次\r\n        this.lyricTimer && clearTimeout(this.lyricTimer)\r\n        this.lyricTimer = setTimeout(() => {\r\n          this.lyricCanScroll && this.scrollLyric()\r\n        }, 800)\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/mixin.scss';\r\n.lyric-box {\r\n  color: rgba(255, 255, 255, 0.6);\r\n  overflow: scroll;\r\n  position: relative;\r\n  margin: .25rem 0;\r\n  height: 100%;\r\n  // scroll-behavior: smooth;\r\n  .lyric-text {\r\n    padding: 40vh .25rem;\r\n    min-height: 100%;\r\n    @include df(column);\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .line {\r\n    line-height: 1.3;\r\n    text-align: center;\r\n    padding: .12rem 0;\r\n    font-size: .14rem;\r\n    transition: color .1s;\r\n    &.active {\r\n      color: #fff;\r\n    }\r\n  }\r\n  .no-lyric {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: #fff;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lyric.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lyric.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lyric.vue?vue&type=template&id=6a723700&scoped=true&\"\nimport script from \"./Lyric.vue?vue&type=script&lang=js&\"\nexport * from \"./Lyric.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lyric.vue?vue&type=style&index=0&id=6a723700&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a723700\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lyric.vue?vue&type=style&index=0&id=6a723700&prod&lang=scss&scoped=true&\"","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","var aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es-x/no-array-string-prototype-at -- safe\n  return '𠮷'.at(-2) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n"],"sourceRoot":""}