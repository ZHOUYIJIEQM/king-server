(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4844c624"],{"5a84":function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));o("14d9"),o("4ec3");let s={data(){return{}},computed:{loginStatus(){return this.$store.getters.loginStatus},playerPlayList(){return this.$store.getters.playList},adoEl(){return this.$store.getters.adoEl},songId(){return this.$store.getters.songId}},methods:{goLogin(){!this.loginStatus&&this.$router.push({name:"Login"})},logout(){this.$store.dispatch("userLogout")},toggleMenu(){this.$store.commit("toggleMenu")},goBack(){let t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu(){console.log("点击了菜单")},goSearch(){this.$router.push({name:"Search"})},toTop(){window.scroll({top:0,behavior:"smooth"})},goPlaylist(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},async clickSong(t){this.$store.commit("changeSongId",String(t));let e=this.$store.getters.historyList;e.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),this.$store.commit("changeShowPlayer",!0)},clickMvIcon(t,e="mv"){this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast(t,e=1500){this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText(t){let e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight(){return document.body.scrollHeight||document.documentElement.scrollHeight}}}},bbde:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"verify-page"},[e("Navbar",{staticClass:"navbar",on:{clickLeft:t.goBack,clickRight:t.goPasswdPage},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-cuowu"})])]},proxy:!0},{key:"middle",fn:function(){return[e("div",{staticClass:"cont"},[t._v("手机号登录")])]},proxy:!0},{key:"right",fn:function(){return[e("div",{staticClass:"passwd"},[t._v("密码登录")])]},proxy:!0}])}),e("div",{staticClass:"verify-content"},[e("div",{staticClass:"phone-text"},[e("div",[t._v("请输入验证码")]),e("p",[e("span",[t._v("已发送至 +86 "+t._s(t.phone.slice(0,3))+"****"+t._s(t.phone.slice(-4)))]),t.countDown>0?e("span",{staticClass:"down"},[t._v(t._s(t.countDown)+"s")]):e("span",{staticClass:"resend",on:{click:t.sendCaptcha}},[t._v("重新获取")])])]),e("div",{staticClass:"phone-num"},[e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.codeStr,expression:"codeStr"}],ref:"code",staticClass:"code",attrs:{type:"tel"},domProps:{value:t.codeStr},on:{input:function(e){e.target.composing||(t.codeStr=e.target.value)}}}),e("div",{staticClass:"code-box"},t._l(t.len,(function(o){return e("div",{key:o,staticClass:"code-input",class:{active:o<=t.codeStr.length},on:{click:t.showKeyBoard}},[t._v(" "+t._s(t.codeStr[o-1])+" ")])})),0)])])],1)},n=[],i=(o("14d9"),o("4ec3")),a=o("5a84"),c={mixins:[a["a"]],components:{Navbar:()=>o.e("chunk-211cfdb4").then(o.bind(null,"d178"))},computed:{phone(){return this.$store.getters.cellPhone}},data(){return{countDown:0,downTimer:null,len:4,codeStr:""}},methods:{goBack(){this.$router.go(-1),this.$store.dispatch("clearLoginData")},goPasswdPage(){this.$router.replace({name:"PasswdLogin"})},showKeyBoard(){this.$refs.code.focus()},async sendCaptcha(){try{let t=await Object(i["j"])(this.phone);200===t.code?(this.$toast({message:"验证码已发送! 请查收!",className:"toastT toastT-bottom",duration:3e3,position:"bottom"}),this.countDown=60,this.downTimer=setInterval(()=>{this.countDown--,0===this.countDown&&clearInterval(this.downTimer)},1e3)):this.$dialog.confirm({title:"登录提示",message:t.message+"! 请使用密码登录!",confirmButtonText:"确定"}).then(t=>{console.log("确认",t),this.$router.push({name:"PasswdLogin"})}).catch(t=>{console.log("取消",t)})}catch(t){console.log(t),this.$toast({message:t.data.message,className:"toastT toastT-bottom",duration:3e3,position:"bottom"})}}},watch:{codeStr(t,e){if(this.codeStr=String(t).replace(/[^\d]/g,""),this.codeStr.length>this.len&&(this.codeStr=e),this.codeStr.length===this.len){let t={phone:this.phone,captcha:this.codeStr};this.$store.dispatch("userPhoneLogin",t)}}},beforeRouteEnter(t,e,o){o(t=>{"PhoneLogin"===e.name&&t.sendCaptcha()})}},r=c,l=(o("eb91"),o("2877")),d=Object(l["a"])(r,s,n,!1,null,"0e771852",null);e["default"]=d.exports},c018:function(t,e,o){},eb91:function(t,e,o){"use strict";o("c018")}}]);
//# sourceMappingURL=chunk-4844c624.a3baffb1.js.map