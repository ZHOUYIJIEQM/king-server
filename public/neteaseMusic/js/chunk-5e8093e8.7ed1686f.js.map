{"version":3,"sources":["webpack:///./src/mixin/global.js","webpack:///./src/views/PlayListComment/PlayListComment.vue","webpack:///./src/components/CommentItem.vue","webpack:///src/components/CommentItem.vue","webpack:///./src/components/CommentItem.vue?91db","webpack:///./src/components/CommentItem.vue?7f88","webpack:///./src/views/PlayListComment/PlayListComment.js","webpack:///./src/views/PlayListComment/PlayListComment.js?9d69","webpack:///./src/views/PlayListComment/PlayListComment.vue?dfd3","webpack:///./src/components/Navbar.vue","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?6c87","webpack:///./src/components/Navbar.vue?402d","webpack:///./src/components/Navbar.vue?b454","webpack:///./src/assets/cvip.png","webpack:///./src/components/CommentItem.vue?475e","webpack:///./src/views/PlayListComment/PlayListComment.scss?2441"],"names":["global","data","computed","loginStatus","this","$store","getters","playerPlayList","playList","adoEl","songId","methods","goLogin","$router","push","name","logout","dispatch","toggleMenu","commit","goBack","history","historyList","length","go","clickMenu","console","log","goSearch","toTop","window","scroll","top","behavior","goPlaylist","id","params","String","location","href","includes","clickMvIcon","type","Number","query","toast","msg","durationT","$toast","message","className","duration","position","copyText","value","input","document","createElement","style","left","body","appendChild","select","execCommand","removeChild","getScrollTop","pageYOffset","documentElement","scrollTop","getClientHeight","innerHeight","clientHeight","getScrollHeight","scrollHeight","render","_vm","_c","_self","_setupProxy","directives","rawName","expression","staticClass","ref","on","scopedSlots","_u","key","fn","proxy","_v","commentCount","_s","_e","coverImgUrl","attrs","creator","nickname","_m","class","active","$event","setActive","comments","_l","item","index","commentId","hasMore","staticRenderFns","commentData","user","avatarUrl","pendantData","imageUrl","avatarDetail","identityIconUrl","vipRights","require","redVipLevel","_f","time","likedCount","color","liked","content","showFloorComment","replyCount","stopPropagation","clickReply","apply","arguments","height","clickOverlay","model","showReply","callback","$$v","totalCount","props","default","resourceId","commentType","parentCommentId","limit","formatComment","watch","handler","component","mixins","components","Navbar","CommentItem","$route","pageNum","loading","mounted","getPlayList","addEventListener","handlerScroll","destroyed","removeEventListener","beforeRouteLeave","to","from","next","replace","pl","playListDetail","playlist","loadingData","getComment","error","setTimeout","pageSize","pageNo","sortType","cursor","comment","commentNew","scrollT","scrollH","clienH","clickItem","_t","module","exports"],"mappings":"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","file":"js/chunk-5e8093e8.7ed1686f.js","sourcesContent":["// 一些在组件共用的属性, 函数\r\n\r\nimport { songDetail, songUrl } from '@/api/api'\r\nexport let global = {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 获取登录状态\r\n    loginStatus() {\r\n      return this.$store.getters.loginStatus;\r\n    },\r\n    playerPlayList() {\r\n      return this.$store.getters.playList\r\n    },\r\n    adoEl() {\r\n      return this.$store.getters.adoEl\r\n    },\r\n    songId() {\r\n      return this.$store.getters.songId\r\n    }\r\n  },\r\n  methods: {\r\n    // 去登录\r\n    goLogin() {\r\n      !this.loginStatus && this.$router.push({ name: \"Login\" });\r\n    },\r\n    // 退出登录\r\n    logout() {\r\n      this.$store.dispatch(\"userLogout\");\r\n    },\r\n    // 菜单显示/隐藏\r\n    toggleMenu() {\r\n      this.$store.commit(\"toggleMenu\");\r\n    },\r\n    // http://localhost:8080\r\n    // 路由返回, 如果第一次进入的页面有导航返回键, go(-1), 是无效的, 把访问过的路由记录到 vuex, 只有一个路由还点了返回键, 就直接跳到首页\r\n    goBack() {\r\n      let history = this.$store.getters.historyList\r\n      if (history.length > 1) {\r\n        this.$router.go(-1);\r\n      } else {\r\n        this.$router.push({name: 'Find'})\r\n      }\r\n    },\r\n    // 点击菜单字体图标\r\n    clickMenu() {\r\n      console.log(\"点击了菜单\");\r\n    },\r\n    // 去搜索\r\n    goSearch() {\r\n      // console.log(\"前往搜索页\");\r\n      this.$router.push({name: 'Search'})\r\n    },\r\n    // 返回顶部\r\n    toTop() {\r\n      window.scroll({ top: 0, behavior: 'smooth'})\r\n    },\r\n    // 前往 歌单\r\n    goPlaylist(id) {\r\n      console.log(\"点击歌单:\", id);\r\n      this.$router.push({ name: \"PlayListDetail\", params: { id } });\r\n    },\r\n    async clickSong(id) {\r\n      // console.log('点击歌曲', id);\r\n      // http://localhost:8080/#/Home/Find\r\n      this.$store.commit('changeSongId', String(id))\r\n      let history = this.$store.getters.historyList\r\n      if (history.length <= 1 && !window.location.href.includes('?player=show')) {\r\n        window.location.href+='?player=show'\r\n      }\r\n      this.$store.commit('changeShowPlayer', true)\r\n    },\r\n    clickMvIcon(id, type=\"mv\") {\r\n      this.$store.commit('changeMvId', Number(id))\r\n      this.$router.push({name: 'MvPlayer', params: {id}, query: {type}})\r\n    },\r\n    // toast 提示\r\n    toast(msg, durationT = 1500) {\r\n      this.$toast({\r\n        message: msg,\r\n        className: \"playerToast\", duration: durationT, position: \"bottom\",\r\n      });\r\n    },\r\n    // 复制文本 value \r\n    copyText(value) {\r\n      // 创建的input需要加到 body, 不然复制不到值\r\n      let input = document.createElement('input')\r\n      input.value = value\r\n      input.style.position = 'absolute'\r\n      input.style.left = '-10000px'\r\n      input.style.top = '-10000px'\r\n      document.body.appendChild(input)\r\n      input.select()\r\n      document.execCommand('copy')\r\n      this.toast('复制成功! 快和小伙伴们分享吧!')\r\n      document.body.removeChild(input)\r\n    },\r\n    // 已滚动高度\r\n    getScrollTop() {\r\n      return (\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        0\r\n      );\r\n    },\r\n    // 窗口可视高度\r\n    getClientHeight() {\r\n      return (\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight ||\r\n        0\r\n      );\r\n    },\r\n    // 获取已滚动高度\r\n    getScrollHeight() {\r\n      return document.body.scrollHeight || document.documentElement.scrollHeight\r\n    }\r\n  },\r\n};\r\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playList.id),expression:\"playList.id\"}],staticClass:\"playlist-comment-page\"},[_c('Navbar',{ref:\"navbar\",staticClass:\"navbar\",on:{\"clickLeft\":_vm.goBack},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont icon-fanhui\"})])]},proxy:true},{key:\"middle\",fn:function(){return [_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"评论\")]),(_vm.commentCount)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.commentCount)+\")\")]):_vm._e()])]},proxy:true}])}),_c('div',{staticClass:\"playlist-info\"},[_c('div',{staticClass:\"box\"},[(_vm.playList.id)?[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.playList.coverImgUrl+'?param=100y100'),expression:\"playList.coverImgUrl+'?param=100y100'\"}],attrs:{\"alt\":\"\"}}),_c('div',{staticClass:\"des-info\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playList.name))]),_c('p',{staticClass:\"author\"},[_vm._v(\"by \"),_c('span',[_vm._v(_vm._s(_vm.playList.creator.nickname))])])]),_vm._m(0)]:_vm._e()],2)]),_c('van-sticky',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentCount),expression:\"commentCount\"}],attrs:{\"offset-top\":\".5rem\"}},[_c('div',{staticClass:\"comment-title\"},[_c('span',{staticClass:\"active\"},[_vm._v(\"评论区\")]),_c('span',{staticClass:\"tag\",class:{active: _vm.active === '推荐'},on:{\"click\":function($event){return _vm.setActive('推荐')}}},[_vm._v(\"推荐\")]),_c('span',{staticClass:\"tag\",class:{active: _vm.active === '最热'},on:{\"click\":function($event){return _vm.setActive('最热')}}},[_vm._v(\"最热\")]),_c('span',{staticClass:\"tag\",class:{active: _vm.active === '最新'},on:{\"click\":function($event){return _vm.setActive('最新')}}},[_vm._v(\"最新\")])])]),(_vm.comments.length)?_c('div',{staticClass:\"comments-box\"},[_vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\"},[_c('CommentItem',{attrs:{\"commentData\":item,\"commentType\":2,\"resourceId\":_vm.commentId}})],1)}),(!this.hasMore)?_c('div',{staticClass:\"bottom\"},[_vm._v(\"没有更多了哦!\")]):_vm._e()],2):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.commentCount),expression:\"!commentCount\"}],staticClass:\"no-comments\"},[_vm._v(\" 暂无评论, 欢迎抢沙发 \")]),_vm._m(1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"right\"},[_c('i',{staticClass:\"iconfont icon-jiantou\"})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"bottom-input\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"写评论...\"}}),_c('p',[_vm._v(\"发送\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-item-comp\"},[_c('div',{staticClass:\"comment-box\"},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.commentData.user.avatarUrl+'?param=200y200',\"alt\":\"\"}}),(_vm.commentData.pendantData)?_c('img',{staticClass:\"pendant\",attrs:{\"src\":_vm.commentData.pendantData.imageUrl+'?param=200y200',\"alt\":\"\"}}):_vm._e(),(_vm.commentData.user.avatarDetail)?_c('img',{staticClass:\"avatarDetail\",attrs:{\"src\":_vm.commentData.user.avatarDetail.identityIconUrl,\"alt\":\"\"}}):_vm._e()]),_c('div',{staticClass:\"comment-content\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"name\"},[_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.commentData.user.nickname))]),(_vm.commentData.user.vipRights)?_c('span',{staticClass:\"vip-box\"},[_c('img',{attrs:{\"src\":require(\"../assets/cvip.png\"),\"alt\":\"\"}}),_c('span',{staticClass:\"split\"},[_vm._v(\"▪\")]),_c('span',{staticClass:\"level\"},[_vm._v(_vm._s(_vm.commentData.user.vipRights.redVipLevel))])]):_vm._e()]),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.commentData.time)))])]),_c('div',{staticClass:\"zan\"},[(_vm.commentData.likedCount)?_c('span',{staticClass:\"zan-num\",style:({color: _vm.commentData.liked ? '#fe3a3b' : ''})},[_vm._v(_vm._s(_vm.commentData.likedCount))]):_vm._e(),(!_vm.commentData.liked)?_c('i',{staticClass:\"iconfont icon-zan\"}):_c('i',{staticClass:\"iconfont icon-z-likeFill\"})])]),_c('div',{staticClass:\"content\"},[_c('pre',{staticClass:\"format\"},[_vm._v(_vm._s(_vm.commentData.content))])]),(_vm.commentData.showFloorComment.replyCount)?_c('div',{staticClass:\"reply\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clickReply.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.commentData.showFloorComment.replyCount)+\"条回复 \"),_c('i',{staticClass:\"iconfont icon-jiantou\"})]):_vm._e()])]),_c('van-popup',{staticClass:\"floor-comment\",style:({ height: '92%' }),attrs:{\"round\":\"\",\"position\":\"bottom\",\"overlay-style\":{'background-color': 'hsl(0deg 0% 0% / 30%)'}},on:{\"close\":_vm.clickOverlay},model:{value:(_vm.showReply),callback:function ($$v) {_vm.showReply=$$v},expression:\"showReply\"}},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"iconfont icon-fanhui\",on:{\"click\":_vm.clickOverlay}}),_c('span',{staticClass:\"reply\"},[_vm._v(\"回复\")]),(_vm.totalCount)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.totalCount)+\")\")]):_vm._e()]),_c('div',{staticClass:\"content\"},_vm._l((100),function(item,index){return _c('div',{key:index},[_vm._v(_vm._s(item))])}),0),_c('div',{staticClass:\"bottom-input\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"写评论...\"}}),_c('p',[_vm._v(\"发送\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 每层评论 -->\r\n  <div class=\"comment-item-comp\">\r\n    <div class=\"comment-box\">\r\n      <div class=\"img-box\">\r\n        <img class=\"avatar\" :src=\"commentData.user.avatarUrl+'?param=200y200'\" alt=\"\">\r\n        <img class=\"pendant\" v-if=\"commentData.pendantData\" :src=\"commentData.pendantData.imageUrl+'?param=200y200'\" alt=\"\">\r\n        <img class=\"avatarDetail\" v-if=\"commentData.user.avatarDetail\" :src=\"commentData.user.avatarDetail.identityIconUrl\" alt=\"\">\r\n      </div>\r\n      <div class=\"comment-content\">\r\n        <div class=\"top\">\r\n          <div class=\"user\">\r\n            <div class=\"name\">\r\n              <span class=\"user-name\">{{commentData.user.nickname}}</span>\r\n              <span class=\"vip-box\" v-if=\"commentData.user.vipRights\">\r\n                <img src=\"../assets/cvip.png\" alt=\"\">\r\n                <span class=\"split\">▪</span>\r\n                <span class=\"level\">{{commentData.user.vipRights.redVipLevel}}</span>\r\n              </span>\r\n            </div>\r\n            <div class=\"date\">{{commentData.time|formatTime}}</div>\r\n          </div>\r\n          <div class=\"zan\">\r\n            <span class=\"zan-num\" :style=\"{color: commentData.liked ? '#fe3a3b' : ''}\" v-if=\"commentData.likedCount\">{{commentData.likedCount}}</span>\r\n            <i class=\"iconfont icon-zan\" v-if=\"!commentData.liked\"></i>\r\n            <i class=\"iconfont icon-z-likeFill\" v-else></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"content\"><pre class=\"format\">{{commentData.content}}</pre></div>\r\n        <div class=\"reply\" @click.stop=\"clickReply\" v-if=\"commentData.showFloorComment.replyCount\">{{commentData.showFloorComment.replyCount}}条回复 <i class=\"iconfont icon-jiantou\"></i></div>\r\n      </div>\r\n    </div>\r\n    <van-popup \r\n      class=\"floor-comment\"\r\n      v-model=\"showReply\" \r\n      round \r\n      position=\"bottom\" \r\n      @close=\"clickOverlay\"\r\n      :overlay-style=\"{'background-color': 'hsl(0deg 0% 0% / 30%)'}\"\r\n      :style=\"{ height: '92%' }\" \r\n    >\r\n      <div class=\"title\">\r\n        <i class=\"iconfont icon-fanhui\" @click=\"clickOverlay\"></i>\r\n        <span class=\"reply\">回复</span>\r\n        <span v-if=\"totalCount\">({{totalCount}})</span>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div v-for=\"(item, index) in 100\" :key=\"index\">{{item}}</div>\r\n      </div>\r\n      <div class=\"bottom-input\">\r\n        <input type=\"text\" placeholder=\"写评论...\">\r\n        <p>发送</p>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { commentFloor } from \"@/api/api\";\r\nexport default {\r\n  props: {\r\n    // 评论内容\r\n    commentData: {\r\n      type: Object,\r\n      require: true,\r\n      default: function () {\r\n        return {}\r\n      }\r\n    },\r\n    // 歌曲, 歌单 的id\r\n    resourceId: {\r\n      type: [String, Number],\r\n      require: true\r\n    },\r\n    // 什么类型的评论 (歌曲, 歌单...)\r\n    commentType: {\r\n      type: [String, Number],\r\n      require: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showReply: false,\r\n      parentCommentId: this.commentData.commentId,\r\n      time: 0,\r\n      totalCount: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    async getComment() {\r\n      let params = {\r\n        parentCommentId: this.parentCommentId,\r\n        id: this.resourceId,\r\n        type: this.commentType,\r\n        limit: 20,\r\n      }\r\n      if (this.time) {\r\n        params.time = this.time\r\n      }\r\n      console.log('参数:', params);\r\n      let comment = await commentFloor(params)\r\n      console.log(comment);\r\n      this.totalCount = comment.data.totalCount\r\n    },\r\n    // 换行\r\n    formatComment(value) {\r\n      return value.replace(/\\n/g, '<br>')\r\n    },\r\n    clickReply() {\r\n      this.showReply = true\r\n      this.$store.commit('changeShowReply', true)\r\n      if (this.showReply) {\r\n        this.getComment()\r\n      }\r\n    },\r\n    clickOverlay() {\r\n      this.showReply = false\r\n      this.$store.commit('changeShowReply', false)\r\n    }\r\n  },\r\n  watch: {\r\n    '$store.getters.showReply': {\r\n      handler: function (newV) {\r\n        if (!newV) {\r\n          this.showReply = false\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variable.scss';\r\n@import '@/styles/mixin.scss';\r\n$bottomInputH: .5rem;\r\n\r\n.comment-item-comp {\r\n  .comment-box{\r\n    padding-top: .08rem;\r\n    @include df();\r\n    padding-left: .08rem;\r\n    transition: all .2s;\r\n    &:active {\r\n      background-color: #f5f5f5;\r\n    }\r\n    .img-box {\r\n      width: .52rem;\r\n      height: .52rem;\r\n      flex-shrink: 0;\r\n      position: relative;\r\n      overflow: hidden;\r\n      img {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n      }\r\n      .avatar {\r\n        width: 68%;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        border-radius: 50%;\r\n      }\r\n      .avatarDetail {\r\n        right: .06rem;\r\n        bottom: .06rem;\r\n        left: auto;\r\n        top: auto;\r\n        width: .12rem;\r\n      }\r\n    } \r\n    .comment-content {\r\n      flex: 1;\r\n      margin-left: .05rem;\r\n      padding-bottom: .15rem;\r\n      border-bottom: 1px solid #e8e8e8;\r\n      .top {\r\n        @include df();\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .user {\r\n          font-size: .13rem;\r\n          .name {\r\n            color: #666;\r\n            line-height: 2;\r\n            .vip-box {\r\n              margin-left: .03rem;\r\n              display: inline-block;\r\n              padding: .01rem .02rem;\r\n              border-radius: .03rem;\r\n              font-size: 0;\r\n              background-color: #141412;\r\n              img {\r\n                width: .19rem;\r\n              }\r\n              // span {\r\n              //   display: inline-block;\r\n              //   font-size: .12rem;\r\n              //   height: .12rem;\r\n              // }\r\n            }\r\n          }\r\n          .date {\r\n            font-size: .1rem;\r\n            color: #999;\r\n          }\r\n        }\r\n        .zan {\r\n          color: #999;\r\n          margin-right: .12rem;\r\n          @include df();\r\n          align-items: center;\r\n          .iconfont {\r\n            font-size: .14rem;\r\n          }\r\n          .icon-zan {\r\n\r\n          }\r\n          .icon-z-likeFill {\r\n            color: #fe3a3b;\r\n          }\r\n          .zan-num {\r\n            margin-right: .05rem;\r\n            font-size: .12rem;\r\n          }\r\n        }\r\n      }\r\n      .content {\r\n        padding-right: .15rem;\r\n        margin-top: .12rem;\r\n        color: $black;\r\n        font-size: .14rem;\r\n        line-height: 1.5;\r\n        // overflow: hidden;\r\n        .format {\r\n          white-space: pre-wrap;\r\n        }\r\n      }\r\n      .reply {\r\n        margin-top: .1rem;\r\n        font-size: .11rem;\r\n        color: #597ba1;\r\n        .iconfont {\r\n          font-size: .1rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .floor-comment {\r\n    @include df(column);\r\n    .title {\r\n      flex-shrink: 0;\r\n      padding: 0 .05rem;\r\n      @include df();\r\n      align-items: center;\r\n      .reply {\r\n        font-size: .17rem;\r\n      }\r\n      .iconfont {\r\n        padding: .1rem;\r\n        font-size: .22rem;\r\n        margin-right: .05rem;\r\n      }\r\n    }\r\n    .content {\r\n      flex: 1;\r\n      overflow: auto;\r\n    }\r\n    .bottom-input {\r\n      flex-shrink: 0;\r\n      background-color: hsla(0, 0%, 100%, .96);\r\n      height: $bottomInputH;\r\n      @include df();\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0 .15rem;\r\n      border-top: 1px solid #f7f7f7;\r\n      @include placeholderColor($color: #b4b4b4, $fontsize: .14rem, $caretc: #c5c5c5);\r\n      input {\r\n        background-color: transparent;\r\n        font-size: .13rem;\r\n        flex: 1;\r\n        border: none;\r\n        color: $black;\r\n      }\r\n      p {\r\n        font-size: .15rem;\r\n        color: #9e9e9e;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=54c661ae&scoped=true&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=54c661ae&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54c661ae\",\n  null\n  \n)\n\nexport default component.exports","import Navbar from \"@/components/Navbar\"\r\nimport CommentItem from \"@/components/CommentItem\"\r\nimport { global } from \"@/mixin/global.js\";\r\nimport { playListDetail, commentNew } from \"@/api/api.js\";\r\n\r\nexport default {\r\n  name: 'PlayListComment',\r\n  mixins: [global],\r\n  components: {\r\n    Navbar,\r\n    CommentItem\r\n  },\r\n  data() {\r\n    return {\r\n      // 歌单 id\r\n      commentId: this.$route.params.id,\r\n      // 评论列表\r\n      comments: [],\r\n      // 歌单信息\r\n      playList: {},\r\n      // 评论标记\r\n      active: \"最新\",\r\n      // 第几页评论\r\n      pageNum: 1,\r\n      // 是否有更多评论\r\n      hasMore: true,\r\n      // 是否正在加载\r\n      loading: false,\r\n    }\r\n  },\r\n  computed: {\r\n    // 共有多少评论\r\n    commentCount() {\r\n      return this.playList.commentCount;\r\n    },\r\n    showReply() {\r\n      return this.$store.getters.showReply\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getPlayList()\r\n    window.addEventListener('scroll', this.handlerScroll)\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('scroll', this.handlerScroll)\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.showReply) {\r\n      this.$store.commit('changeShowReply', false)\r\n      next(false)\r\n    } else {\r\n      next()\r\n    }\r\n  },\r\n  methods: {\r\n    // 换行\r\n    formatComment(value) {\r\n      return value.replace(/\\n/g, '<br>')\r\n    },\r\n    // 获取歌单信息\r\n    async getPlayList() {\r\n      try {\r\n        this.$store.commit('changeLoading', true)\r\n        let pl = await playListDetail(this.commentId);\r\n        this.playList = pl.playlist;\r\n        this.loadingData = false\r\n        this.getComment()\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setTimeout(() => {\r\n          this.$store.commit('changeLoading', false)\r\n        }, 100)\r\n      }\r\n    },\r\n    // 获取歌单评论\r\n    async getComment() {\r\n      try {\r\n        if (this.hasMore) {\r\n          this.$store.commit('changeLoading', true)\r\n          let params = {\r\n            type: 2,\r\n            id: this.commentId,\r\n            pageSize: 20,\r\n            pageNo: this.pageNum,\r\n          }\r\n          // let sortType = 99\r\n          if (this.active === '推荐') {\r\n            params.sortType = 99\r\n          } else if (this.active === '最新') {\r\n            params.sortType = 3\r\n            this.cursor && (params.cursor = this.cursor)\r\n          } else {\r\n            params.sortType = 2\r\n            // 按照要求, 热度一直参数错误\r\n            this.cursor && (params.cursor = this.cursor)\r\n          }\r\n          let comment = await commentNew(params)\r\n          console.log(comment.data);\r\n          this.hasMore = comment.data.hasMore\r\n          comment.data.cursor && (this.cursor = comment.data.cursor)\r\n          this.pageNum++\r\n          this.comments.push(...comment.data.comments)\r\n          this.loading = false\r\n          this.$store.commit('changeLoading', false)\r\n        }\r\n      } catch (error) {\r\n        this.loading = false\r\n        this.$toast('新版评论接口获取数据错误')\r\n        console.log(\"加载评论错误:\\n\", error);\r\n      } finally {\r\n        this.$store.commit('changeLoading', false)\r\n      }\r\n    },\r\n    // 设置评论标记\r\n    setActive(type) {\r\n      if (this.active !== type) {\r\n        this.active = type;\r\n        this.cursor = null\r\n        this.hasMore = true\r\n        this.comments = []\r\n        this.pageNum = 1\r\n        this.getComment()\r\n        if (type === '推荐' || type === '最热') {\r\n          this.$toast({\r\n            message: '接口存在bug, 推荐, 最热可能无法正常读取数据!',\r\n            className: \"toastT\",\r\n            duration: 2000,\r\n            position: \"bottom\",\r\n          })\r\n        }\r\n      }\r\n    },\r\n    // 滚动加载更多\r\n    handlerScroll() {\r\n      console.log('歌单评论滚动');\r\n      let scrollT = this.getScrollTop()\r\n      let scrollH = this.getScrollHeight()\r\n      let clienH = this.getClientHeight()\r\n\r\n      if (scrollT + clienH + 100 >= scrollH && !this.loading) {\r\n        console.log('到底了');\r\n        this.loading = true\r\n        this.getComment()\r\n      }\r\n    }\r\n  },\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./PlayListComment.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./PlayListComment.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayListComment.vue?vue&type=template&id=d42be7ce&scoped=true&\"\nimport script from \"./PlayListComment.js?vue&type=script&lang=js&\"\nexport * from \"./PlayListComment.js?vue&type=script&lang=js&\"\nimport style0 from \"./PlayListComment.scss?vue&type=style&index=0&id=d42be7ce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d42be7ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navbar-comp\"},[_c('div',{staticClass:\"left\",on:{\"click\":function($event){return _vm.clickItem('left')}}},[_vm._t(\"left\")],2),_c('div',{staticClass:\"middle\",on:{\"click\":function($event){return _vm.clickItem('middle')}}},[_vm._t(\"middle\")],2),_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.clickItem('right')}}},[_vm._t(\"right\")],2),_c('div',{staticClass:\"background\"},[_vm._t(\"background\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"navbar-comp\">\r\n    <div class=\"left\" @click=\"clickItem('left')\">\r\n      <slot name=\"left\"></slot>\r\n    </div>\r\n    <div class=\"middle\" @click=\"clickItem('middle')\">\r\n      <slot name=\"middle\"></slot>\r\n    </div>\r\n    <div class=\"right\" @click=\"clickItem('right')\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n    <div class=\"background\">\r\n      <slot name=\"background\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    clickItem(type) {\r\n      type === 'left' && this.$emit('clickLeft')\r\n      type === 'middle' && this.$emit('clickMiddle')\r\n      type === 'right' && this.$emit('clickRight')\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$emit('navbarMounted')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/variable.scss\";\r\n\r\n.navbar-comp {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #fff;\r\n  z-index: 10;\r\n  height: $navHeight;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: .08rem 0;\r\n  i {\r\n    font-size: .22rem;\r\n  }\r\n  .left, .right {\r\n    height: 100%;\r\n    padding: 0 .15rem;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .middle {\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    &>div {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .background {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=2ce0cfb9&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=2ce0cfb9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ce0cfb9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=2ce0cfb9&prod&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=54c661ae&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./PlayListComment.scss?vue&type=style&index=0&id=d42be7ce&prod&lang=scss&scoped=true&\""],"sourceRoot":""}