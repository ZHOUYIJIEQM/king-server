(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c244c79a","chunk-211cfdb4"],{"08ef":function(t,e,s){"use strict";s("6ec7")},"5a84":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s("14d9"),s("4ec3");let i={data(){return{}},computed:{loginStatus(){return this.$store.getters.loginStatus},playerPlayList(){return this.$store.getters.playList},adoEl(){return this.$store.getters.adoEl},songId(){return this.$store.getters.songId}},methods:{goLogin(){!this.loginStatus&&this.$router.push({name:"Login"})},logout(){this.$store.dispatch("userLogout")},toggleMenu(){this.$store.commit("toggleMenu")},goBack(){let t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu(){console.log("点击了菜单")},goSearch(){this.$router.push({name:"Search"})},toTop(){window.scroll({top:0,behavior:"smooth"})},goPlaylist(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},async clickSong(t){this.$store.commit("changeSongId",String(t));let e=this.$store.getters.historyList;e.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),this.$store.commit("changeShowPlayer",!0)},clickMvIcon(t,e="mv"){this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast(t,e=1500){this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText(t){let e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight(){return document.body.scrollHeight||document.documentElement.scrollHeight}}}},"6ec7":function(t,e,s){},"9bfc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"leaderBoard-page"},[e("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[e("div",[t._v("排行榜")])]},proxy:!0}])}),t.show?e("div",{staticClass:"content"},[e("van-tabs",{attrs:{scrollspy:"",sticky:"","offset-top":"0.5rem"},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[e("div",{staticClass:"recommend normal songlist"},[e("div",{staticClass:"title"},[t._v("榜单推荐")]),t.recommend.length?e("div",{staticClass:"list-box"},t._l(t.recommend,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])]),e("van-tab",{attrs:{title:"官方"}},[e("div",{staticClass:"official"},[e("div",{staticClass:"title"},[t._v("官方榜")]),t._l(t.official,(function(s,i){return e("div",{key:i,staticClass:"official-item",on:{click:function(e){return t.goPlaylist(s.id)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"list-name"},[t._v(t._s(s.name))]),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img+"?param=300y300",expression:"item.img + '?param=300y300'"}],attrs:{alt:""}})]),e("div",{staticClass:"right"},t._l(s.tracks,(function(s,i){return e("div",{key:i,staticClass:"song text-eli"},[e("span",{staticClass:"index"},[t._v(t._s(i+1)+".")]),e("span",{staticClass:"name"},[t._v(t._s(s.first))]),e("span",{staticClass:"split"},[t._v("-")]),e("span",{staticClass:"author"},[t._v(t._s(s.second))])])})),0),e("div",{staticClass:"frequency"},[t._v(t._s(s.frequency))])])}))],2)]),e("van-tab",{attrs:{title:"精选"}},[e("div",{staticClass:"normal songlist"},[e("div",{ref:"top",staticClass:"title"},[t._v("精选榜")]),t.selected?e("div",{staticClass:"list-box"},t._l(t.selected,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),e("van-tab",{attrs:{title:"曲风"}},[e("div",{staticClass:"normal songlist"},[e("div",{staticClass:"title"},[t._v("曲风榜")]),t.genre.length?e("div",{staticClass:"list-box"},t._l(t.genre,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),e("van-tab",{attrs:{title:"全球"}},[e("div",{staticClass:"normal songlist"},[e("div",{staticClass:"title"},[t._v("全球榜")]),t.global.length?e("div",{staticClass:"list-box"},t._l(t.global,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),e("van-tab",{attrs:{title:"MV"}},[e("div",{staticClass:"normal songlist"},[e("div",{staticClass:"title"},[t._v("MV榜")]),t.MV.length?e("div",{staticClass:"list-box"},t._l(t.MV,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),e("van-tab",{attrs:{title:"特色"}},[e("div",{staticClass:"normal songlist"},[e("div",{staticClass:"title"},[t._v("特色榜")]),t.feature.length?e("div",{staticClass:"list-box"},t._l(t.feature,(function(t,s){return e("div",{key:s,staticClass:"list-item"},[e("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])])],1)],1):t._e()],1)},a=[],l=(s("14d9"),s("4ec3")),n=s("d178"),c=s("5a84"),o={name:"LeaderBoardInclude",components:{PlayListBlock:()=>s.e("chunk-41a17fc2").then(s.bind(null,"9245")),Navbar:n["default"]},mixins:[c["a"]],data(){return{tabActive:0,show:!1,recommend:[],official:[],selected:[],genre:[],global:[],MV:[],feature:[],scrollT:0}},created(){this.getData()},activated(){setTimeout(()=>{window.scroll(0,this.scrollT),window.addEventListener("scroll",this.handlerScroll)},10)},deactivated(){window.removeEventListener("scroll",this.handlerScroll)},methods:{async getData(){try{this.$store.commit("changeLoading",!0);let t=await Object(l["F"])(),e=t.list.map(t=>({id:t.id,name:t.name,img:t.coverImgUrl,tracks:t.tracks,frequency:t.updateFrequency}));e.forEach(t=>{t.isUsed=!1,t.tracks.length&&(this.official.push(t),t.isUsed=!0),/美国|UK|日本|法国|欧美|日语|韩语|俄语|越南/i.test(t.name)&&(this.global.push(t),t.isUsed=!0),t.name.includes("云音乐")&&!t.isUsed&&(this.genre.push(t),t.isUsed=!0)}),e=e.filter(t=>!t.isUsed);while(this.recommend.length<3){let t=this.getRandom(0,e.length-1),s=e[t];s.isUsed||(this.recommend.push(s),s.isUsed=!0)}while(this.selected.length<6){let t=e[this.getRandom(0,e.length-1)];t.isUsed||(this.selected.push(t),t.isUsed=!0)}this.feature=e.filter(t=>!t.isUsed)}catch(t){console.log(t)}finally{this.show=!0,setTimeout(()=>{this.$store.commit("changeLoading",!1)},300)}},getRandom(t,e){return Math.round(Math.random()*(e-t)+t)},handlerScroll(t){this.scrollT=Math.ceil(this.getScrollTop())}}},r=o,d=(s("08ef"),s("f3af"),s("2877")),u=Object(d["a"])(r,i,a,!1,null,"00416525",null);e["default"]=u.exports},ae8c:function(t,e,s){},d178:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar-comp"},[e("div",{staticClass:"left",on:{click:function(e){return t.clickItem("left")}}},[t._t("left")],2),e("div",{staticClass:"middle",on:{click:function(e){return t.clickItem("middle")}}},[t._t("middle")],2),e("div",{staticClass:"right",on:{click:function(e){return t.clickItem("right")}}},[t._t("right")],2),e("div",{staticClass:"background"},[t._t("background")],2)])},a=[],l={methods:{clickItem(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted(){this.$emit("navbarMounted")}},n=l,c=(s("d714"),s("2877")),o=Object(c["a"])(n,i,a,!1,null,"2ce0cfb9",null);e["default"]=o.exports},d3ea:function(t,e,s){},d714:function(t,e,s){"use strict";s("ae8c")},f3af:function(t,e,s){"use strict";s("d3ea")}}]);
//# sourceMappingURL=chunk-c244c79a.2c9bb420.js.map